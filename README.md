<div align="center">
  <br />

  <div>
    <img src="https://img.shields.io/badge/-Next.JS_15-black?style=for-the-badge&logoColor=white&logo=nextdotjs&color=black" alt="next.js" />
    <img src="https://img.shields.io/badge/-React_19-61DAFB?style=for-the-badge&logo=react&logoColor=black" alt="react" />
    <img src="https://img.shields.io/badge/-TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white" alt="typescript" />
    <img src="https://img.shields.io/badge/-Tailwind_v4-06B6D4?style=for-the-badge&logo=tailwind-css&logoColor=white" alt="tailwind" />
    <img src="https://img.shields.io/badge/-Clerk-6C47FF?style=for-the-badge&logoColor=white&logo=clerk" alt="clerk" />
    <img src="https://img.shields.io/badge/-Supabase-3FCF8E?style=for-the-badge&logo=supabase&logoColor=white" alt="supabase" />
    <img src="https://img.shields.io/badge/-Google_Gemini-8E75B2?style=for-the-badge&logo=google&logoColor=white" alt="gemini" />
    <img src="https://img.shields.io/badge/-Toss_Payments-0066FF?style=for-the-badge&logoColor=white" alt="tosspayments" />
  </div>

  <h1 align="center">FarmToBiz Retailer</h1>
  <h3 align="center">ë†ì‚°ë¬¼ ë„ë§¤/ì†Œë§¤ B2B í”Œë«í¼</h3>

  <p align="center">
    AI ê¸°ë°˜ ë†ìˆ˜ì‚°ë¬¼ ê±°ë˜ í”Œë«í¼ - ì†Œë§¤ìƒì˜ ìŠ¤ë§ˆíŠ¸í•œ ë„ë§¤ êµ¬ë§¤ë¥¼ ìœ„í•œ ì˜¬ì¸ì› ì†”ë£¨ì…˜
  </p>
</div>

## ğŸ“‹ ëª©ì°¨

1. [ì†Œê°œ](#ì†Œê°œ)
2. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
3. [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
4. [ì‹œì‘í•˜ê¸°](#ì‹œì‘í•˜ê¸°)
5. [ì¶”ê°€ ì„¤ì • ë° íŒ](#ì¶”ê°€-ì„¤ì •-ë°-íŒ)
6. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)

## ì†Œê°œ

ë†ìˆ˜ì‚°ë¬¼ ì†Œë§¤ìƒì„ ìœ„í•œ AI ê¸°ë°˜ B2B ë„ë§¤ êµ¬ë§¤ í”Œë«í¼ì…ë‹ˆë‹¤. ë„ë§¤ìƒì˜ ìµëª…í™”ì™€ AI í‘œì¤€í™”ë¥¼ í†µí•´ íˆ¬ëª…í•˜ê³  ì•ˆì „í•œ ê±°ë˜ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.

**í•µì‹¬ íŠ¹ì§•:**
- ğŸ¤– **AI ê¸°ë°˜ ìƒí’ˆ ì¶”ì²œ**: Gemini AIê°€ êµ¬ë§¤ íŒ¨í„´ê³¼ ì‹œì¥ íŠ¸ë Œë“œë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ìƒí’ˆ ì¶”ì²œ
- ğŸ”’ **ì•ˆì „í•œ ê±°ë˜ í™˜ê²½**: ë„ë§¤ìƒ ì •ë³´ ìµëª…í™”ë¡œ ê°œì¸ì •ë³´ ë³´í˜¸
- ğŸšš **ìŠ¤ë§ˆíŠ¸ ë°°ì†¡ ì‹œìŠ¤í…œ**: ì†Œë§¤ì  ìš´ì˜ ì‹œê°„ì— ë§ì¶˜ ë°°ì†¡ ì‹œê°„ ì§€ì •
- ğŸ’³ **í†µí•© ê²°ì œ ì‹œìŠ¤í…œ**: Toss Payments ì—°ë™ìœ¼ë¡œ ì•ˆì „í•œ ê²°ì œ ì²˜ë¦¬
- ğŸ“Š **ì‹¤ì‹œê°„ ì‹œì¥ ê°€ê²©**: KAMIS API ì—°ë™ìœ¼ë¡œ ì‹¤ì‹œê°„ ì‹œì„¸ ì •ë³´ ì œê³µ
- ğŸŒ™ **ëª¨ë˜ UI/UX**: ë‹¤í¬ëª¨ë“œ ì§€ì›, ë°˜ì‘í˜• ë””ìì¸, ì ‘ê·¼ì„± ì¤€ìˆ˜

## ê¸°ìˆ  ìŠ¤íƒ

### í”„ë ˆì„ì›Œí¬ & ë¼ì´ë¸ŒëŸ¬ë¦¬

- **[Next.js 15](https://nextjs.org/)** - React í”„ë ˆì„ì›Œí¬ (App Router, Server Components)
- **[React 19](https://react.dev/)** - UI ë¼ì´ë¸ŒëŸ¬ë¦¬
- **[TypeScript](https://www.typescriptlang.org/)** - íƒ€ì… ì•ˆì •ì„±

### ì¸ì¦ & ë°ì´í„°ë² ì´ìŠ¤

- **[Clerk](https://clerk.com/)** - ì‚¬ìš©ì ì¸ì¦ ë° ê´€ë¦¬
  - Google, ì´ë©”ì¼ ë“± ë‹¤ì–‘í•œ ë¡œê·¸ì¸ ë°©ì‹ ì§€ì›
  - í•œêµ­ì–´ UI ì§€ì›
  - Supabaseì™€ ë„¤ì´í‹°ë¸Œ í†µí•©
- **[Supabase](https://supabase.com/)** - PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
  - ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
  - Row Level Security (RLS)
  - íŒŒì¼ ìŠ¤í† ë¦¬ì§€

### UI & ìŠ¤íƒ€ì¼ë§

- **[Tailwind CSS v4](https://tailwindcss.com/)** - ìœ í‹¸ë¦¬í‹° ìš°ì„  CSS í”„ë ˆì„ì›Œí¬
- **[shadcn/ui](https://ui.shadcn.com/)** - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **[Radix UI](https://www.radix-ui.com/)** - ì ‘ê·¼ì„± ë†’ì€ í—¤ë“œë¦¬ìŠ¤ ì»´í¬ë„ŒíŠ¸
- **[lucide-react](https://lucide.dev/)** - ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬

### AI & ì™¸ë¶€ API

- **[Google Gemini AI](https://ai.google.dev/)** - ìƒí’ˆ ì¶”ì²œ ë° ì±—ë´‡ ê¸°ëŠ¥
- **[KAMIS API](https://www.kamis.or.kr/)** - ì‹¤ì‹œê°„ ë†ì‚°ë¬¼ ì‹œì¥ ê°€ê²© ì •ë³´
- **[Toss Payments](https://toss.dev/)** - ì•ˆì „í•œ ê²°ì œ ì²˜ë¦¬ ì‹œìŠ¤í…œ

### í¼ & ê²€ì¦

- **[React Hook Form](https://react-hook-form.com/)** - í¼ ìƒíƒœ ê´€ë¦¬
- **[Zod](https://zod.dev/)** - ìŠ¤í‚¤ë§ˆ ê²€ì¦

### ìƒíƒœ ê´€ë¦¬ & ìœ í‹¸ë¦¬í‹°

- **[Zustand](https://zustand-demo.pmnd.rs/)** - ê²½ëŸ‰ ìƒíƒœ ê´€ë¦¬ (ì¥ë°”êµ¬ë‹ˆ ë“±)
- **[TanStack Query](https://tanstack.com/query/)** - ì„œë²„ ìƒíƒœ ê´€ë¦¬
- **[date-fns](https://date-fns.org/)** - ë‚ ì§œ/ì‹œê°„ ì²˜ë¦¬
- **[es-toolkit](https://es-toolkit.slash.page/)** - ëª¨ë˜ JavaScript ìœ í‹¸ë¦¬í‹°

## ì£¼ìš” ê¸°ëŠ¥

### ğŸ” ë‹¤ì¤‘ ì—­í•  ì¸ì¦ ì‹œìŠ¤í…œ
- **ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´**: ì†Œë§¤ìƒ(Retailer), ë„ë§¤ìƒ(Wholesaler), ê´€ë¦¬ì(Admin) ì—­í• ë³„ ë§ì¶¤ ê¸°ëŠ¥
- **Clerk í†µí•©**: ì•ˆì „í•œ ì‚¬ìš©ì ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬
- **ìë™ ë™ê¸°í™”**: Clerk ì‚¬ìš©ì ì •ë³´ë¥¼ Supabaseì— ìë™ ë™ê¸°í™”
- **í•œêµ­ì–´ UI**: Clerk í•œêµ­ì–´ ë¡œì»¬ë¼ì´ì œì´ì…˜ ì§€ì›

### ğŸ¤– AI ê¸°ë°˜ ì†Œë§¤ìƒ ëŒ€ì‹œë³´ë“œ
- **ê°œì¸í™” ì¶”ì²œ**: êµ¬ë§¤ ì´ë ¥ ê¸°ë°˜ AI ìƒí’ˆ ì¶”ì²œ ì‹œìŠ¤í…œ
- **ì‹œì¥ íŠ¸ë Œë“œ ë¶„ì„**: ì‹¤ì‹œê°„ ë†ì‚°ë¬¼ ê°€ê²© ë° ì¬ê³  ì˜ˆì¸¡
- **ìŠ¤ë§ˆíŠ¸ ì•Œë¦¼**: ì¬ê³  ë¶€ì¡±, ê°€ê²© ë³€ë™ ë“± ê¸´ê¸‰ ì•Œë¦¼
- **Bento Grid ë ˆì´ì•„ì›ƒ**: ëª¨ë“ˆí˜• ëŒ€ì‹œë³´ë“œë¡œ íš¨ìœ¨ì ì¸ ì •ë³´ ë°°ì¹˜

### ğŸ›’ ì§€ëŠ¥í˜• ìƒí’ˆ ê²€ìƒ‰ ë° êµ¬ë§¤
- **AI ìƒí’ˆëª… í‘œì¤€í™”**: í˜¼ë€ìŠ¤ëŸ¬ìš´ ìƒí’ˆëª…ì„ AIê°€ ì¼ê´€ëœ í˜•ì‹ìœ¼ë¡œ ì •ì œ
- **Command Palette**: `Cmd+K`ë¡œ ìƒí’ˆ, ì¹´í…Œê³ ë¦¬, ì£¼ë¬¸ ë‚´ì—­ í†µí•© ê²€ìƒ‰
- **ìµëª…í™”ëœ ë„ë§¤ ì •ë³´**: ë³´ì•ˆì„ ìœ„í•´ ë„ë§¤ìƒ ì •ë³´ ìµëª… í‘œì‹œ (Partner #F2B-01)
- **ë°°ì†¡ í•„í„°ë§**: ìƒˆë²½/ì¼ë°˜ ë°°ì†¡ ì˜µì…˜ìœ¼ë¡œ ìš´ì˜ ì‹œê°„ì— ë§ëŠ” ìƒí’ˆ í•„í„°ë§

### ğŸ’³ ì•ˆì „í•œ ê²°ì œ ë° ë°°ì†¡ ì‹œìŠ¤í…œ
- **Toss Payments ì—°ë™**: ì•ˆì •ì ì¸ ê²°ì œ ì²˜ë¦¬ ë° ì—ìŠ¤í¬ë¡œ ê¸°ëŠ¥
- **í”Œë«í¼ ìˆ˜ì·¨**: ëª¨ë“  ê²°ì œëŠ” FarmToBiz í”Œë«í¼ ëª…ì˜ë¡œ ì§„í–‰
- **ìŠ¤ë§ˆíŠ¸ ë°°ì†¡ ì‹œê°„ ì§€ì •**: ì†Œë§¤ì  ìš´ì˜ ì‹œê°„ì— ë§ì¶˜ ë°°ì†¡ ìŠ¤ì¼€ì¤„ë§
- **ì‹¤ì‹œê°„ ë°°ì†¡ ì¶”ì **: íƒ€ì„ë¼ì¸ ê¸°ë°˜ ë°°ì†¡ ìƒíƒœ ëª¨ë‹ˆí„°ë§

### ğŸ’¬ AI ê³ ê° ì§€ì› ì±—ë´‡
- **í†µí•© ì¸í„°í˜ì´ìŠ¤**: ëª¨ë“  í˜ì´ì§€ì—ì„œ Floating Action Buttonìœ¼ë¡œ ì ‘ê·¼
- **ë°°ì†¡/ìƒí’ˆ ë¬¸ì˜**: ë„ë§¤ ë°°ì†¡ ì •ë³´, ìƒí’ˆ ìƒì„¸ ì •ë³´ ì¦‰ì‹œ ë‹µë³€
- **PII ë§ˆìŠ¤í‚¹**: ì‘ë‹µ ìƒì„± ì‹œ ê°œì¸ì •ë³´ ìë™ ë§ˆìŠ¤í‚¹ìœ¼ë¡œ ë³´ì•ˆ ìœ ì§€
- **Command Palette í†µí•©**: ê²€ìƒ‰ê³¼ AI ì§ˆì˜ ë™ì‹œ ì§€ì›

### ğŸ“Š ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°
- **KAMIS API ì—°ë™**: ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€ ê³µê³µ APIë¡œ ì‹¤ì‹œê°„ ì‹œì„¸ ì •ë³´
- **ê°€ê²© ì˜ˆì¸¡**: AI ê¸°ë°˜ ë¯¸ë˜ ê°€ê²© íŠ¸ë Œë“œ ì˜ˆì¸¡
- **ì§€ì—­ë³„ ê°€ê²© ë¹„êµ**: ì „êµ­ ì£¼ìš” ë„ë§¤ì‹œì¥ ê°€ê²© ë¹„êµ ê¸°ëŠ¥

## ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

ì‹œìŠ¤í…œì— ë‹¤ìŒì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

- [Git](https://git-scm.com/)
- [Node.js](https://nodejs.org/en) (v18 ì´ìƒ)
- [pnpm](https://pnpm.io/) (ê¶Œì¥ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €)

```bash
# pnpm ì„¤ì¹˜
npm install -g pnpm
```

### í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

FarmToBiz í”Œë«í¼ì„ ë¡œì»¬ í™˜ê²½ì—ì„œ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ì„¤ì •ì…ë‹ˆë‹¤:

#### 1. Supabase í”„ë¡œì íŠ¸ ìƒì„±

1. [Supabase Dashboard](https://supabase.com/dashboard)ì— ì ‘ì†í•˜ì—¬ ë¡œê·¸ì¸
2. **"New Project"** í´ë¦­
3. Organization ì„ íƒ (ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±)
4. í”„ë¡œì íŠ¸ ì •ë³´ ì…ë ¥:
   - **Name**: ì›í•˜ëŠ” í”„ë¡œì íŠ¸ ì´ë¦„
   - **Database Password**: ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ìƒì„± (ê¸°ì–µí•  í•„ìš” ì—†ìŒ, Supabaseê°€ ê´€ë¦¬)
   - **Region**: `Northeast Asia (Seoul)` ì„ íƒ (í•œêµ­ ì„œë¹„ìŠ¤ìš©)
   - **Pricing Plan**: Free ë˜ëŠ” Pro ì„ íƒ
5. **"Create new project"** í´ë¦­í•˜ê³  í”„ë¡œì íŠ¸ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ëŒ€ê¸° (~2ë¶„)

#### 2. Clerk í”„ë¡œì íŠ¸ ìƒì„±

1. [Clerk Dashboard](https://dashboard.clerk.com/)ì— ì ‘ì†í•˜ì—¬ ë¡œê·¸ì¸
2. **"Create application"** í´ë¦­
3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´ ì…ë ¥:
   - **Application name**: ì›í•˜ëŠ” ì´ë¦„ (ì˜ˆ: `SaaS Template`)
   - **Sign-in options**: Email, Google ë“± ì›í•˜ëŠ” ì¸ì¦ ë°©ì‹ ì„ íƒ
4. **"Create application"** í´ë¦­
5. Quick Start í™”ë©´ì—ì„œ **"Continue in Dashboard"** í´ë¦­

#### 3. Clerk + Supabase í†µí•©

> **ì¤‘ìš”**: 2025ë…„ 4ì›”ë¶€í„° Clerkì˜ ë„¤ì´í‹°ë¸Œ Supabase í†µí•©ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. JWT Templateì€ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**3-1. Clerk Frontend API URL í™•ì¸**

1. Clerk Dashboard â†’ **API Keys** ë©”ë‰´
2. **"Frontend API"** URL ë³µì‚¬ (ì˜ˆ: `https://your-app-12.clerk.accounts.dev`)
   - ì´ URLì„ ë©”ëª¨í•´ë‘ì„¸ìš” (ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‚¬ìš©)

**3-2. Supabaseì—ì„œ Clerk ì¸ì¦ ì œê³µì ì„¤ì •**

1. Supabase Dashboardë¡œ ëŒì•„ê°€ê¸°
2. í”„ë¡œì íŠ¸ ì„ íƒ â†’ **Settings** â†’ **Authentication** â†’ **Providers**
3. í˜ì´ì§€ í•˜ë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ **"Third-Party Auth"** ì„¹ì…˜ ì°¾ê¸°
4. **"Enable Custom Access Token"** ë˜ëŠ” **"Add Provider"** í´ë¦­
5. ë‹¤ìŒ ì •ë³´ ì…ë ¥:

   - **Provider Name**: `Clerk` (ë˜ëŠ” ì›í•˜ëŠ” ì´ë¦„)
   - **JWT Issuer (Issuer URL)**:
     ```
     https://your-app-12.clerk.accounts.dev
     ```
     (`your-app-12` ë¶€ë¶„ì„ ì‹¤ì œ Clerk Frontend API URLë¡œ êµì²´)

   - **JWKS Endpoint (JWKS URI)**:
     ```
     https://your-app-12.clerk.accounts.dev/.well-known/jwks.json
     ```
     (ë™ì¼í•˜ê²Œ ì‹¤ì œ URLë¡œ êµì²´)

6. **"Save"** ë˜ëŠ” **"Add Provider"** í´ë¦­

**3-3. í†µí•© í™•ì¸**

[Clerk ê³µì‹ í†µí•© ê°€ì´ë“œ](https://clerk.com/docs/guides/development/integrations/databases/supabase)ì—ì„œ ì¶”ê°€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 4. Supabase Storage ìƒì„± ë° ì„¤ì •

1. Supabase Dashboard â†’ **Storage** ë©”ë‰´
2. **"New bucket"** í´ë¦­
3. ë²„í‚· ì •ë³´ ì…ë ¥:
   - **Name**: `uploads` (`.env.example`ê³¼ ë™ì¼í•˜ê²Œ)
   - **Public bucket**: í•„ìš”ì— ë”°ë¼ ì„ íƒ
     - Public: ëˆ„êµ¬ë‚˜ URLë¡œ íŒŒì¼ ì ‘ê·¼ ê°€ëŠ¥
     - Private: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ (RLS ì •ì±… í•„ìš”)
4. **"Create bucket"** í´ë¦­

#### 5. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì ìš©

1. Supabase Dashboard â†’ **SQL Editor** ë©”ë‰´
2. **"New query"** í´ë¦­
3. `supabase/migrations/schema.sql` íŒŒì¼ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê¸°
4. **"Run"** í´ë¦­í•˜ì—¬ ì‹¤í–‰
5. ì„±ê³µ ë©”ì‹œì§€ í™•ì¸ (`Success. No rows returned`)

**ì£¼ìš” í…Œì´ë¸”:**
- `users`: Clerk ì‚¬ìš©ìì™€ ë™ê¸°í™”ë˜ëŠ” ì‚¬ìš©ì ì •ë³´ í…Œì´ë¸”
- `retailers`: ì†Œë§¤ìƒ í”„ë¡œí•„ ë° ì‚¬ì—…ì ì •ë³´
- `wholesalers`: ë„ë§¤ìƒ ì •ë³´ (ìµëª…í™”ëœ ì‹ë³„ìì™€ ì§€ì—­ ì •ë³´)
- `products`: ë†ìˆ˜ì‚°ë¬¼ ìƒí’ˆ ì •ë³´ (AI í‘œì¤€í™”ëœ ìƒí’ˆëª…)
- `orders`: ì£¼ë¬¸ ë° ê²°ì œ ì •ë³´
- `cart_items`: ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ ì •ë³´
- `inquiries`: ê³ ê° ë¬¸ì˜ ë° AI ì±—ë´‡ ëŒ€í™” ê¸°ë¡
- `delivery_addresses`: ë°°ì†¡ ì£¼ì†Œ ê´€ë¦¬
- `market_prices`: ì‹¤ì‹œê°„ ë†ì‚°ë¬¼ ì‹œì„¸ ë°ì´í„°

#### 6. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**6-1. ì €ì¥ì†Œ í´ë¡  ë° ì˜ì¡´ì„± ì„¤ì¹˜**

```bash
git clone <your-repository-url>
cd saas-template
pnpm install
```

**6-2. .env íŒŒì¼ ìƒì„±**

```bash
cp .env.example .env
```

**6-3. Supabase í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

1. Supabase Dashboard â†’ **Settings** â†’ **API**
2. ë‹¤ìŒ ê°’ë“¤ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì— ì…ë ¥:
   ```env
   NEXT_PUBLIC_SUPABASE_URL="<Project URL>"
   NEXT_PUBLIC_SUPABASE_ANON_KEY="<anon public key>"
   SUPABASE_SERVICE_ROLE_KEY="<service_role secret key>"
   NEXT_PUBLIC_STORAGE_BUCKET="uploads"
   ```

> **âš ï¸ ì£¼ì˜**: `service_role` í‚¤ëŠ” ëª¨ë“  RLSë¥¼ ìš°íšŒí•˜ëŠ” ê´€ë¦¬ì ê¶Œí•œì´ë¯€ë¡œ ì ˆëŒ€ ê³µê°œí•˜ì§€ ë§ˆì„¸ìš”!

**6-4. Clerk í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

1. Clerk Dashboard â†’ **API Keys**
2. ë‹¤ìŒ ê°’ë“¤ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì— ì…ë ¥:
   ```env
   NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="<Publishable Key>"
   CLERK_SECRET_KEY="<Secret Key>"
   NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
   NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL="/"
   NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL="/"
   ```

#### 7. Cursor MCP ì„¤ì • (ì„ íƒì‚¬í•­)

> Cursor AIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, Supabase MCP ì„œë²„ë¥¼ ì„¤ì •í•˜ë©´ AIê°€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì§ì ‘ ì¡°íšŒí•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**7-1. Supabase Access Token ìƒì„±**

1. Supabase Dashboard â†’ ìš°ì¸¡ ìƒë‹¨ í”„ë¡œí•„ ì•„ì´ì½˜ í´ë¦­
2. **Account Settings** â†’ **Access Tokens**
3. **"Generate new token"** í´ë¦­
4. Token name ì…ë ¥ (ì˜ˆ: `cursor-mcp`)
5. ìƒì„±ëœ í† í° ë³µì‚¬ (ë‹¤ì‹œ ë³¼ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì•ˆì „í•œ ê³³ì— ë³´ê´€)

**7-2. .cursor/mcp.json ì„¤ì •**

`.cursor/mcp.json` íŒŒì¼ì„ ì—´ê³  `your_supabase_access_token` ë¶€ë¶„ì„ ì‹¤ì œ í† í°ìœ¼ë¡œ êµì²´:

```json
{
  "mcpServers": {
    "supabase": {
      "command": "npx",
      "args": [
        "-y",
        "@supabase/mcp-server-supabase@latest",
        "--access-token",
        "sbp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
      ]
    }
  }
}
```

**7-3. Cursor ì¬ì‹œì‘**

Cursorë¥¼ ì™„ì „íˆ ì¢…ë£Œí•˜ê³  ë‹¤ì‹œ ì‹¤í–‰í•˜ì—¬ MCP ì„œë²„ ì„¤ì •ì„ ì ìš©í•©ë‹ˆë‹¤.

#### 8. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
pnpm dev
```

ë¸Œë¼ìš°ì €ì—ì„œ [http://localhost:3000](http://localhost:3000)ì„ ì—´ì–´ í™•ì¸í•©ë‹ˆë‹¤.

**ì£¼ìš” í˜ì´ì§€:**
- `/retailer/dashboard`: AI ê¸°ë°˜ ì†Œë§¤ìƒ ëŒ€ì‹œë³´ë“œ
- `/retailer/products`: ìƒí’ˆ ê²€ìƒ‰ ë° êµ¬ë§¤
- `/retailer/cart`: ì¥ë°”êµ¬ë‹ˆ ë° ì£¼ë¬¸ ê´€ë¦¬
- `/retailer/orders`: ì£¼ë¬¸ ë‚´ì—­ ë° ë°°ì†¡ ì¶”ì 
- `/retailer/cs`: ê³ ê° ë¬¸ì˜ ë° AI ì±—ë´‡
- `/admin/dashboard`: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
- `/wholesaler/*`: ë„ë§¤ìƒ ì „ìš© í˜ì´ì§€ë“¤

### ê°œë°œ ëª…ë ¹ì–´

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰ (Turbopack)
pnpm dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
pnpm build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
pnpm start

# ë¦°íŒ…
pnpm lint
```

## ì¶”ê°€ ì„¤ì • ë° íŒ

### Clerk í•œêµ­ì–´ ì„¤ì •

í”„ë¡œì íŠ¸ì— ì´ë¯¸ Clerk í•œêµ­ì–´ ë¡œì»¬ë¼ì´ì œì´ì…˜ì´ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤. `app/layout.tsx`ì˜ `ClerkProvider`ì—ì„œ `koKR` localeì´ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

### Supabase RLS (Row Level Security) ì •ì±…

í”„ë¡œì íŠ¸ì˜ `users` í…Œì´ë¸”ì—ëŠ” ê¸°ë³¸ RLS ì •ì±…ì´ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

- **SELECT**: ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë°ì´í„°ë§Œ ì¡°íšŒ ê°€ëŠ¥
- **INSERT**: ìƒˆ ì‚¬ìš©ì ìƒì„± ê°€ëŠ¥
- **UPDATE**: ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë°ì´í„°ë§Œ ìˆ˜ì • ê°€ëŠ¥

ì¶”ê°€ í…Œì´ë¸” ìƒì„± ì‹œ RLS ì •ì±…ì„ ë°˜ë“œì‹œ ì„¤ì •í•˜ì„¸ìš”:

```sql
-- í…Œì´ë¸” ìƒì„±
CREATE TABLE your_table (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id TEXT NOT NULL REFERENCES users(clerk_id),
  -- ê¸°íƒ€ ì»¬ëŸ¼ë“¤
);

-- RLS í™œì„±í™”
ALTER TABLE your_table ENABLE ROW LEVEL SECURITY;

-- SELECT ì •ì±…
CREATE POLICY "Users can view their own data"
  ON your_table FOR SELECT
  USING (auth.jwt()->>'sub' = user_id);

-- INSERT ì •ì±…
CREATE POLICY "Users can insert their own data"
  ON your_table FOR INSERT
  WITH CHECK (auth.jwt()->>'sub' = user_id);
```

### ì¶”ê°€ ë¡œê·¸ì¸ ë°©ì‹ ì„¤ì •

Clerkì—ì„œ ì¶”ê°€ ë¡œê·¸ì¸ ë°©ì‹ì„ í™œì„±í™”í•˜ë ¤ë©´:

1. Clerk Dashboard â†’ **User & Authentication** â†’ **Social Connections**
2. ì›í•˜ëŠ” ì œê³µì ì„ íƒ (Google, GitHub, Discord ë“±)
3. OAuth ìê²© ì¦ëª… ì…ë ¥ (ì œê³µì ê°œë°œì ì½˜ì†”ì—ì„œ ìƒì„±)
4. **Enable** í´ë¦­

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
farmtobiz-retailer/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                  # ì¸ì¦ ê´€ë ¨ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ sign-in/            # ë¡œê·¸ì¸
â”‚   â”‚   â”œâ”€â”€ sign-up/            # íšŒì›ê°€ì…
â”‚   â”‚   â””â”€â”€ role-selection/     # ì—­í•  ì„ íƒ
â”‚   â”œâ”€â”€ admin/                   # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ dashboard/          # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â””â”€â”€ wholesalers/        # ë„ë§¤ìƒ ê´€ë¦¬
â”‚   â”œâ”€â”€ api/                     # API Routes
â”‚   â”‚   â”œâ”€â”€ ai/                 # Gemini AI API
â”‚   â”‚   â”œâ”€â”€ market-prices/      # ì‹¤ì‹œê°„ ì‹œì„¸ API
â”‚   â”‚   â”œâ”€â”€ payments/           # Toss Payments API
â”‚   â”‚   â””â”€â”€ sync-user/          # ì‚¬ìš©ì ë™ê¸°í™”
â”‚   â”œâ”€â”€ retailer/                # ì†Œë§¤ìƒ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ dashboard/          # AI ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ products/           # ìƒí’ˆ ê²€ìƒ‰/êµ¬ë§¤
â”‚   â”‚   â”œâ”€â”€ cart/               # ì¥ë°”êµ¬ë‹ˆ
â”‚   â”‚   â”œâ”€â”€ orders/             # ì£¼ë¬¸ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ cs/                 # ê³ ê° ë¬¸ì˜
â”‚   â”‚   â””â”€â”€ profile/            # í”„ë¡œí•„ ê´€ë¦¬
â”‚   â””â”€â”€ globals.css             # Tailwind CSS ì„¤ì •
â”‚
â”œâ”€â”€ components/                  # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ admin/                  # ê´€ë¦¬ì ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ common/                 # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ retailer/               # ì†Œë§¤ìƒ ì „ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                     # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ providers/              # Context Providers
â”‚   â”‚   â”œâ”€â”€ query-provider.tsx  # TanStack Query
â”‚   â”‚   â”œâ”€â”€ sync-user-provider.tsx # ì‚¬ìš©ì ë™ê¸°í™”
â”‚   â”‚   â””â”€â”€ theme-provider.tsx  # ë‹¤í¬ëª¨ë“œ
â”‚   â””â”€â”€ role-selection-header.tsx
â”‚
â”œâ”€â”€ lib/                         # ìœ í‹¸ë¦¬í‹° ë° ì„¤ì •
â”‚   â”œâ”€â”€ api/                    # ì™¸ë¶€ API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ ai-inquiry.ts       # AI ë¬¸ì˜ ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ market-prices.ts    # ì‹œì„¸ API
â”‚   â”‚   â””â”€â”€ gemini.ts           # Gemini AI ì„¤ì •
â”‚   â”œâ”€â”€ supabase/               # Supabase í´ë¼ì´ì–¸íŠ¸ë“¤
â”‚   â”‚   â”œâ”€â”€ queries/            # ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë“¤
â”‚   â”‚   â”œâ”€â”€ clerk-client.ts     # Client Componentìš©
â”‚   â”‚   â”œâ”€â”€ server.ts           # Server Componentìš©
â”‚   â”‚   â”œâ”€â”€ service-role.ts     # ê´€ë¦¬ììš©
â”‚   â”‚   â””â”€â”€ client.ts           # ê³µê°œ ë°ì´í„°ìš©
â”‚   â”œâ”€â”€ payments/               # ê²°ì œ ê´€ë ¨ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ utils/                  # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ validation/             # Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦
â”‚   â””â”€â”€ clerk/                  # Clerk ì„¤ì •
â”‚
â”œâ”€â”€ actions/                     # Server Actions
â”‚   â”œâ”€â”€ admin/                  # ê´€ë¦¬ì ì•¡ì…˜
â”‚   â”œâ”€â”€ retailer/               # ì†Œë§¤ìƒ ì•¡ì…˜
â”‚   â””â”€â”€ wholesaler/             # ë„ë§¤ìƒ ì•¡ì…˜
â”‚
â”œâ”€â”€ hooks/                       # Custom React Hooks
â”‚   â”œâ”€â”€ use-cart-data.ts        # ì¥ë°”êµ¬ë‹ˆ ë°ì´í„°
â”‚   â”œâ”€â”€ use-market-prices.ts    # ì‹œì„¸ ë°ì´í„°
â”‚   â”œâ”€â”€ use-sync-user.ts        # ì‚¬ìš©ì ë™ê¸°í™”
â”‚   â””â”€â”€ use-toss-payment.ts     # Toss ê²°ì œ
â”‚
â”œâ”€â”€ stores/                      # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â””â”€â”€ cart-store.ts           # ì¥ë°”êµ¬ë‹ˆ ìƒíƒœ
â”‚
â”œâ”€â”€ types/                       # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ cart.ts                 # ì¥ë°”êµ¬ë‹ˆ íƒ€ì…
â”‚   â”œâ”€â”€ order.ts                # ì£¼ë¬¸ íƒ€ì…
â”‚   â”œâ”€â”€ product.ts              # ìƒí’ˆ íƒ€ì…
â”‚   â””â”€â”€ database.ts             # ë°ì´í„°ë² ì´ìŠ¤ íƒ€ì…
â”‚
â”œâ”€â”€ supabase/                    # Supabase ì„¤ì •
â”‚   â”œâ”€â”€ migrations/             # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â””â”€â”€ config.toml             # í”„ë¡œì íŠ¸ ì„¤ì •
â”‚
â”œâ”€â”€ docs/                        # ë¬¸ì„œ ë° ë””ìì¸
â”‚   â”œâ”€â”€ design-handoff/         # ë””ìì¸ íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ retailer/               # ì†Œë§¤ìƒ ê´€ë ¨ ë¬¸ì„œ
â”‚   â”‚   â”œâ”€â”€ RE_PRD.md          # ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ
â”‚   â”‚   â”œâ”€â”€ RE_TODO.md         # ì‘ì—… ëª©ë¡
â”‚   â”‚   â””â”€â”€ Payment_API.md     # ê²°ì œ API ë¬¸ì„œ
â”‚   â””â”€â”€ PRD.md                  # ì „ì²´ PRD
â”‚
â”œâ”€â”€ .cursor/                     # Cursor AI ê·œì¹™
â”‚   â””â”€â”€ rules/                  # ê°œë°œ ì»¨ë²¤ì…˜
â”‚
â”œâ”€â”€ middleware.ts                # Next.js ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ CLAUDE.md                    # AI ì—ì´ì „íŠ¸ ê°€ì´ë“œ
â”œâ”€â”€ AGENTS.md                    # í”„ë¡œì íŠ¸ ê°€ì´ë“œ
â””â”€â”€ package.json                 # ì˜ì¡´ì„± ê´€ë¦¬
```

### ì£¼ìš” íŒŒì¼ ì„¤ëª…

- **`middleware.ts`**: ì—­í•  ê¸°ë°˜ ë¼ìš°íŒ… ë° Clerk ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
- **`app/retailer/dashboard/page.tsx`**: AI ê¸°ë°˜ ì†Œë§¤ìƒ ëŒ€ì‹œë³´ë“œ ë©”ì¸ í˜ì´ì§€
- **`lib/supabase/queries/retailer-products.ts`**: ìƒí’ˆ ê²€ìƒ‰ ë° êµ¬ë§¤ ê´€ë ¨ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬
- **`actions/retailer/chat-with-gemini.ts`**: Gemini AI ì±—ë´‡ê³¼ì˜ ëŒ€í™” ì²˜ë¦¬
- **`hooks/use-market-prices.ts`**: ì‹¤ì‹œê°„ ë†ì‚°ë¬¼ ì‹œì„¸ ë°ì´í„° ê´€ë¦¬
- **`components/retailer/ProductCard.tsx`**: ìƒí’ˆ í‘œì‹œ ë° ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° ì»´í¬ë„ŒíŠ¸
- **`stores/cart-store.ts`**: Zustandë¥¼ ì‚¬ìš©í•œ ì¥ë°”êµ¬ë‹ˆ ìƒíƒœ ê´€ë¦¬
- **`lib/payments/process-payment.ts`**: Toss Payments ê²°ì œ ì²˜ë¦¬ ë¡œì§
- **`CLAUDE.md`**: Claude Codeë¥¼ ìœ„í•œ í”„ë¡œì íŠ¸ ê°€ì´ë“œ
- **`docs/retailer/RE_PRD.md`**: ì†Œë§¤ìƒ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ

## ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- [Next.js 15 ë¬¸ì„œ](https://nextjs.org/docs)
- [Clerk ë¬¸ì„œ](https://clerk.com/docs)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)
- [shadcn/ui ë¬¸ì„œ](https://ui.shadcn.com/)
- [Tailwind CSS v4 ë¬¸ì„œ](https://tailwindcss.com/docs)

## ì¶”ê°€ ì„¤ì • ë° íŒ

### Gemini AI ì„¤ì •

í”„ë¡œì íŠ¸ì—ì„œ Gemini AIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Google AI Studioì—ì„œ API í‚¤ë¥¼ ë°œê¸‰ë°›ì•„ì•¼ í•©ë‹ˆë‹¤:

1. [Google AI Studio](https://makersuite.google.com/app/apikey) ì ‘ì†
2. ìƒˆë¡œìš´ API í‚¤ ìƒì„±
3. `.env` íŒŒì¼ì— `GOOGLE_AI_API_KEY` ì¶”ê°€

### Toss Payments ì„¤ì •

ì‹¤ì œ ê²°ì œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Toss Paymentsì—ì„œ API í‚¤ë¥¼ ë°œê¸‰ë°›ì•„ì•¼ í•©ë‹ˆë‹¤:

1. [Toss Payments ê°œë°œì ì„¼í„°](https://developers.tosspayments.com) ì ‘ì†
2. í…ŒìŠ¤íŠ¸ìš© API í‚¤ ë°œê¸‰
3. `.env` íŒŒì¼ì— ê´€ë ¨ í‚¤ë“¤ ì¶”ê°€

### KAMIS API ì„¤ì •

ë†ì‚°ë¬¼ ì‹œì„¸ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€ KAMIS API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤:

1. [KAMIS ê°œë°œì í¬í„¸](https://www.kamis.or.kr)ì—ì„œ íšŒì›ê°€ì… ë° API í‚¤ ë°œê¸‰
2. `.env` íŒŒì¼ì— API í‚¤ ì¶”ê°€

### Package.json ì—…ë°ì´íŠ¸

í˜„ì¬ `package.json`ì˜ í”„ë¡œì íŠ¸ ì´ë¦„ì´ `saas-mini-course`ë¡œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œ í”„ë¡œì íŠ¸ëª…ì— ë§ê²Œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤:

```json
{
  "name": "farmtobiz-retailer",
  "version": "0.1.0",
  "private": true
}
```

---

**FarmToBiz Retailer** - AI ê¸°ë°˜ ë†ìˆ˜ì‚°ë¬¼ B2B í”Œë«í¼ ğŸš€
#   l i n k m a r k e t 
 
 #   f a r m t o b i z - r e t a i l e r 
 
 #   f a r m t o b i z - r e t a i l e r 
 
 