# ë„ë§¤â€“ì†Œë§¤ ì¤‘ê°œ í”Œë«í¼ MVP ê¸°íšì„œ

## ğŸ“Œ ë¬¸ì„œ ì •ë³´

- **ë¬¸ì„œ ê¸°ì¤€ì¼**: 2025-11-19
- **í”„ë¡œì íŠ¸ëª…**: ë„ë§¤â€“ì†Œë§¤ ì¤‘ê°œ í”Œë«í¼ (MVP)
- **ëª©í‘œ ê°œë°œ ê¸°ê°„**: 8ì£¼ (2ê°œì›”)
- **íƒ€ê¹ƒ**: ë°”ì´ë¸Œì½”ë”© + Supabase ê¸°ë°˜ ë¹ ë¥¸ ì‹œì¥ ê²€ì¦
- **í…Œì´ë¸” ìˆ˜**: 13ê°œ (í•µì‹¬ ê¸°ëŠ¥ í¬í•¨)
- **DB ìŠ¤í‚¤ë§ˆ íŒŒì¼**: `supabase_schema.sql` â­

---

## ğŸ“‘ ëª©ì°¨

1. [ì„œë¹„ìŠ¤ ê°œìš”](#-1-ì„œë¹„ìŠ¤-ê°œìš”)
2. [ëª©ì ](#-2-ëª©ì )
3. [ë°°ê²½ ë° íƒ€ê¹ƒ ìœ ì €](#-3-ë°°ê²½-ë°-íƒ€ê¹ƒ-ìœ ì €)
4. [í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ](#-4-í•µì‹¬-ê¸°ìˆ -ìŠ¤íƒ)
5. [UX / ì„œë¹„ìŠ¤ íë¦„](#-5-ux--ì„œë¹„ìŠ¤-íë¦„)
6. [ìœ ì € í”Œë¡œìš° (ìƒì„¸)](#-6-ìœ ì €-í”Œë¡œìš°-ìƒì„¸)
7. [í•„ìˆ˜ ê¸°ëŠ¥ ì •ì˜ (ìš°ì„ ìˆœìœ„ë³„)](#-7-í•„ìˆ˜-ê¸°ëŠ¥-ì •ì˜-ìš°ì„ ìˆœìœ„ë³„)
8. [ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½](#-8-ì£¼ìš”-ê¸°ëŠ¥-ìš”ì•½-mvp)
9. **[DB ì„¤ê³„ (ì „ì²´)](#-9-db-ì„¤ê³„-ì „ì²´)** â­ í•µì‹¬!
10. [UI/UX ê°€ì´ë“œ](#-10-uiux-ê°€ì´ë“œ)
11. [ê°œë°œ í™˜ê²½ ì„¤ì •](#-11-ê°œë°œ-í™˜ê²½-ì„¤ì •)
12. [MVP ê°œë°œ ìˆœì„œ (8ì£¼)](#-12-mvp-ê°œë°œ-ìˆœì„œ-8ì£¼)
13. [í…ŒìŠ¤íŠ¸ ê³„íš](#-13-í…ŒìŠ¤íŠ¸-ê³„íš)
14. [MVPì—ì„œ ì œì™¸ëœ ê¸°ëŠ¥](#-14-mvpì—ì„œ-ì œì™¸ëœ-ê¸°ëŠ¥-phase-2)
15. [MVP ê²€ì¦ ì§€í‘œ](#-15-mvp-ê²€ì¦-ì§€í‘œ)
16. [ë‹¤ìŒ ë‹¨ê³„](#-16-ë‹¤ìŒ-ë‹¨ê³„)

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ (Quick Start)

### 1ë‹¨ê³„: Supabase DB ì„¤ì • (5ë¶„)

```bash
# 1. Supabase í”„ë¡œì íŠ¸ ìƒì„± (https://supabase.com/dashboard)
# 2. SQL Editor ì—´ê¸°
# 3. supabase_schema.sql íŒŒì¼ ë‚´ìš© ë³µì‚¬ â†’ ë¶™ì—¬ë„£ê¸° â†’ Run â–¶ï¸
```

### 2ë‹¨ê³„: Clerk ì„¤ì • (5ë¶„)

```bash
# 1. Clerk í”„ë¡œì íŠ¸ ìƒì„± (https://dashboard.clerk.com)
# 2. .env.localì— í‚¤ ì¶”ê°€:
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
```

### 3ë‹¨ê³„: Next.js í”„ë¡œì íŠ¸ ì‹œì‘

```bash
npx create-next-app@latest my-app --typescript --tailwind --app
cd my-app
npm install @clerk/nextjs @supabase/supabase-js
npm run dev
```

### 4ë‹¨ê³„: ì²« í˜ì´ì§€ ë§Œë“¤ê¸°

- **ì†Œë§¤ ìƒí’ˆ ëª©ë¡**: `/retailer/products`
- **ë„ë§¤ ëŒ€ì‹œë³´ë“œ**: `/wholesaler/dashboard`
- **ê´€ë¦¬ì í˜ì´ì§€**: `/admin/wholesalers`

**ğŸ’¡ Tip**: 9ë²ˆ ì„¹ì…˜ì˜ [ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ](#93-ì‹¤ì œ-ì‚¬ìš©-ì˜ˆì‹œ)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”!

---

## ğŸ“Š ì‹œìŠ¤í…œ êµ¬ì¡° í•œëˆˆì— ë³´ê¸°

### ì „ì²´ í˜ì´ì§€ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

/ (í™ˆ)
â”œâ”€â”€ /sign-in (ë¡œê·¸ì¸) [Clerk]
â”œâ”€â”€ /sign-up (íšŒì›ê°€ì…) [Clerk]
â”‚
â”œâ”€â”€ /retailer (ì†Œë§¤)
â”‚   â”œâ”€â”€ /dashboard (ëŒ€ì‹œë³´ë“œ)
â”‚   â”œâ”€â”€ /products (ìƒí’ˆ ëª©ë¡)
â”‚   â”‚   â””â”€â”€ /[id] (ìƒí’ˆ ìƒì„¸)
â”‚   â”œâ”€â”€ /cart (ì¥ë°”êµ¬ë‹ˆ) ğŸ¥‰ 3ìˆœìœ„
â”‚   â”œâ”€â”€ /checkout (ê²°ì œ) 7ìˆœìœ„
â”‚   â”œâ”€â”€ /orders (ì£¼ë¬¸ ë‚´ì—­)
â”‚   â”‚   â””â”€â”€ /[id] (ì£¼ë¬¸ ìƒì„¸)
â”‚   â””â”€â”€ /cs (CS ë¬¸ì˜) 5ìˆœìœ„
â”‚
â”œâ”€â”€ /wholesaler (ë„ë§¤)
â”‚   â”œâ”€â”€ /pending (ìŠ¹ì¸ ëŒ€ê¸°)
â”‚   â”œâ”€â”€ /dashboard (ëŒ€ì‹œë³´ë“œ)
â”‚   â”œâ”€â”€ /products (ìƒí’ˆ ê´€ë¦¬)
â”‚   â”‚   â”œâ”€â”€ /new (ì‹ ê·œ ë“±ë¡)
â”‚   â”‚   â”‚   â”œâ”€â”€ [AI í‘œì¤€í™” ë²„íŠ¼] ğŸ¥‡ 1ìˆœìœ„
â”‚   â”‚   â”‚   â””â”€â”€ [ì‹œì„¸ ì¡°íšŒ ë²„íŠ¼] ğŸ¥ˆ 2ìˆœìœ„
â”‚   â”‚   â””â”€â”€ /[id]/edit (ìˆ˜ì •)
â”‚   â”œâ”€â”€ /orders (ì£¼ë¬¸ ê´€ë¦¬)
â”‚   â”‚   â””â”€â”€ /[id] (ì£¼ë¬¸ ìƒì„¸ + ìƒíƒœ ë³€ê²½)
â”‚   â””â”€â”€ /settlements (ì •ì‚° ì¡°íšŒ) 7ìˆœìœ„
â”‚
â””â”€â”€ /admin (ê´€ë¦¬ì)
    â”œâ”€â”€ /dashboard (ëŒ€ì‹œë³´ë“œ)
    â”œâ”€â”€ /wholesalers (ë„ë§¤ ê´€ë¦¬)
    â”‚   â”œâ”€â”€ /pending (ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡)
    â”‚   â””â”€â”€ /[id] (ìƒì„¸ + ìŠ¹ì¸/ë°˜ë ¤)
    â”œâ”€â”€ /users (ê³„ì • ê´€ë¦¬)
    â”œâ”€â”€ /cs/tickets (CS í‹°ì¼“) 5ìˆœìœ„
    â””â”€â”€ /audit-logs (ê°ì‚¬ ë¡œê·¸) 6ìˆœìœ„
```

### ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ë°ì´í„° íë¦„ë„                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£ íšŒì›ê°€ì…
   Clerk â†’ profiles.clerk_user_id ì €ì¥ â†’ retailers OR wholesalers

2ï¸âƒ£ ìƒí’ˆ ë“±ë¡ (ë„ë§¤)
   ë„ë§¤ ì…ë ¥ â†’ AI í‘œì¤€í™” (Gemini) ğŸ¥‡
            â†’ ì‹œì„¸ ì¡°íšŒ (ê³µê³µë°ì´í„°) ğŸ¥ˆ
            â†’ products + product_variants

3ï¸âƒ£ ì£¼ë¬¸ (ì†Œë§¤)
   ìƒí’ˆ ì„ íƒ â†’ cart_items ğŸ¥‰
            â†’ ê²°ì œ (TossPayments)
            â†’ orders â†’ settlements (ì •ì‚° ê³„ì‚°)

4ï¸âƒ£ CS
   ë¬¸ì˜ â†’ cs_threads â†’ AI ë´‡ ì‘ë‹µ 5ìˆœìœ„
                    â†’ ì‚¬ëŒ ìƒë‹´ ì „í™˜ (escalated)

5ï¸âƒ£ ê´€ë¦¬ì
   ë„ë§¤ ìŠ¹ì¸ â†’ wholesalers.status = 'approved'
            â†’ audit_logs (ê°ì‚¬ ë¡œê·¸ ê¸°ë¡) 6ìˆœìœ„
```

---

## ğŸ¯ 1. ì„œë¹„ìŠ¤ ê°œìš”

### ì œí’ˆ ê°œìš”

ë„ë§¤ì™€ ì†Œë§¤ë¥¼ ì—°ê²°í•˜ëŠ” **B2B ì¤‘ê°œ í”Œë«í¼**ì…ë‹ˆë‹¤.  
ë„ë§¤ì˜ ë¯¼ê° ì •ë³´(ìƒí˜¸ëª…, ì—°ë½ì²˜)ë¥¼ ë…¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ì„œ ì†Œë§¤ê°€ ì—¬ëŸ¬ ë„ë§¤ì˜ ìƒí’ˆì„ ë¹„êµí•˜ê³  ì£¼ë¬¸í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜ (MVP)

- âœ… **ë„ë§¤ ì •ë³´ ë¹„ë…¸ì¶œ**: ì†Œë§¤ í™”ë©´ì— ë„ë§¤ ìƒí˜¸ëª…/ì—°ë½ì²˜ ë…¸ì¶œ ê¸ˆì§€
- âœ… **AI ì§€ì›**: Gemini ê¸°ë°˜ ìƒí’ˆëª… í‘œì¤€í™” + ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ
- âœ… **í¸ë¦¬í•œ UX**: ì¥ë°”êµ¬ë‹ˆ, ìƒí’ˆ ì˜µì…˜, ê²°ì œ ì—°ë™
- âœ… **ìŠ¤ë§ˆíŠ¸ CS**: AI ë´‡ 1ì°¨ ì‘ë‹µ + ì‚¬ëŒ ìƒë‹´ ì „í™˜
- âœ… **íˆ¬ëª…í•œ ìš´ì˜**: ê°ì‚¬ ë¡œê·¸ ê¸°ë°˜ ê´€ë¦¬ì ì•¡ì…˜ ì¶”ì 

---

## ğŸ¯ 2. ëª©ì 

### ë¬¸ì œ ì •ì˜

- **ì†Œë§¤ ì…ì¥**: ë„ë§¤ ê°€ê²© ë¹„êµê°€ ì–´ë µê³ , ì—¬ëŸ¬ ë„ë§¤ë¥¼ ì¼ì¼ì´ ì—°ë½í•´ì•¼ í•¨
- **ë„ë§¤ ì…ì¥**: ê±°ë˜ì²˜ ë°œêµ´ì´ ì–´ë µê³ , ì£¼ë¬¸ ê´€ë¦¬ê°€ ìˆ˜ê¸°ë¡œ ì´ë£¨ì–´ì§
- **í”Œë«í¼ ê´€ì **: ë„ë§¤-ì†Œë§¤ë¥¼ ì—°ê²°í•˜ëŠ” ê°„ë‹¨í•˜ê³  ì•ˆì „í•œ ì¤‘ê°œ ì‹œìŠ¤í…œ í•„ìš”

### MVP ëª©í‘œ

ì‹œì¥ì—ì„œ **"AI ê¸°ë°˜ ë„ë§¤-ì†Œë§¤ ì¤‘ê°œ í”Œë«í¼ì´ ì‹¤ì œë¡œ ì‘ë™í•˜ëŠ”ê°€?"**ë¥¼ ê²€ì¦í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.

- ì†Œë§¤ëŠ” ì—¬ëŸ¬ ë„ë§¤ ìƒí’ˆì„ ë¹„êµí•˜ê³  ì£¼ë¬¸ ê°€ëŠ¥
- ë„ë§¤ëŠ” AI ë„ì›€ì„ ë°›ì•„ ìƒí’ˆì„ ë“±ë¡í•˜ê³  ì£¼ë¬¸ì„ ê´€ë¦¬
- ê´€ë¦¬ìëŠ” í”Œë«í¼ í’ˆì§ˆì„ ìœ ì§€í•˜ê³  ìš´ì˜ ë¡œê·¸ë¥¼ ì¶”ì 
- ì‹¤ì œ ê²°ì œê°€ ì´ë£¨ì–´ì§€ê³  ê¸°ë³¸ì ì¸ ì •ì‚° ê³„ì‚° ê°€ëŠ¥

---

## ğŸ‘¥ 3. ë°°ê²½ ë° íƒ€ê¹ƒ ìœ ì €

### íƒ€ê¹ƒ ì‚¬ìš©ì

#### ì†Œë§¤ì  (Retailer)

- **ëŒ€ìƒ**: ì‹ìì¬/ì¡í™” ì†Œë§¤ì  ìš´ì˜ì
- **ë‹ˆì¦ˆ**: "ì—¬ëŸ¬ ë„ë§¤ë¥¼ ì‰½ê²Œ ë¹„êµí•˜ê³  ì‹¸ê²Œ ì‚¬ê³  ì‹¶ë‹¤"
- **í˜ì¸ í¬ì¸íŠ¸**: ë„ë§¤ ê°€ê²© ë¹„êµê°€ ì–´ë µê³ , ì „í™”ë¡œ ì¼ì¼ì´ ë¬¸ì˜í•´ì•¼ í•¨

#### ë„ë§¤ì  (Wholesaler)

- **ëŒ€ìƒ**: ì „í†µì‹œì¥, ì§€ì—­ ë„ë§¤ìƒ
- **ë‹ˆì¦ˆ**: "ìƒˆë¡œìš´ ê±°ë˜ì²˜ë¥¼ ì°¾ê³ , ì£¼ë¬¸ì„ ì˜¨ë¼ì¸ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ë‹¤"
- **í˜ì¸ í¬ì¸íŠ¸**: ê±°ë˜ì²˜ ë°œêµ´ì´ ì–´ë µê³ , ì£¼ë¬¸ ê´€ë¦¬ê°€ ìˆ˜ê¸°

#### ìš´ì˜ì (Admin)

- **ëŒ€ìƒ**: í”Œë«í¼ ìš´ì˜ì‚¬
- **ë‹ˆì¦ˆ**: "ë„ë§¤/ì†Œë§¤ ê³„ì • ê´€ë¦¬ ë° ì¤‘ê°œ í’ˆì§ˆ ìœ ì§€"
- **í˜ì¸ í¬ì¸íŠ¸**: ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ë„ë§¤ê°€ í”Œë«í¼ì— ìœ ì…ë  ìœ„í—˜

---

## ğŸ› ï¸ 4. í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ

### Frontend

- **Next.js** (App Router)
- **TypeScript**
- **Tailwind CSS** (ë¹ ë¥¸ UI êµ¬ì„±)
- **Recharts** (ì‹œì„¸ ì°¨íŠ¸ìš©)

### Backend / DB

- **Supabase**
  - PostgreSQL (ë°ì´í„°ë² ì´ìŠ¤)
  - Row Level Security (RLS) - ì—­í• ë³„ ë°ì´í„° ì ‘ê·¼ ì œì–´
  - Realtime (ë„ë§¤ ìŠ¹ì¸ ìƒíƒœ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)
  - Storage (ìƒí’ˆ ì´ë¯¸ì§€ ì €ì¥)

### Auth

- **Clerk**
  - ê°„í¸í•œ ì¸ì¦/ê¶Œí•œ ê´€ë¦¬
  - ì—­í• (role) ê¸°ë°˜ ì ‘ê·¼ ì œì–´

### AI / ì™¸ë¶€ API

- **Gemini 2.5 Flash** (ìƒí’ˆëª… í‘œì¤€í™”)
- **ê³µê³µë°ì´í„°í¬í„¸ API** (ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ)
- **LLM API** (CS ë´‡ - OpenAI ë˜ëŠ” Gemini)

### ê²°ì œ

- **TossPayments** (í…ŒìŠ¤íŠ¸ ëª¨ë“œ)
  - ê²°ì œ ì—°ë™
  - ê°„ë‹¨í•œ ì •ì‚° ê³„ì‚° (ìë™ ì†¡ê¸ˆì€ Phase 2)

### ë°°í¬

- **Vercel** (Next.js)
- **Supabase** (DB í˜¸ìŠ¤íŒ…)

---

## ğŸ“Š 5. UX / ì„œë¹„ìŠ¤ íë¦„

### ì „ì²´ íë¦„ë„

```
[íšŒì›ê°€ì…/ë¡œê·¸ì¸ (Clerk)]
         â†“
    [ì—­í•  ì„ íƒ]
    â†™    â†“    â†˜
[ì†Œë§¤]  [ë„ë§¤]  [ê´€ë¦¬ì]
```

### ì†Œë§¤ íë¦„

```
ìƒí’ˆ ëª©ë¡ ì¡°íšŒ (í•„í„°/ê²€ìƒ‰)
    â†“
ìƒí’ˆ ìƒì„¸ í™•ì¸ (ìµëª… ë„ë§¤ ì •ë³´ + ê°€ê²© + ì˜µì…˜ ì„ íƒ)
    â†“
ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸° (ì—¬ëŸ¬ ìƒí’ˆ)
    â†“
ê²°ì œ (TossPayments)
    â†“
ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ (ìƒíƒœ í™•ì¸)
    â†“
CS ë¬¸ì˜ (AI ë´‡ â†’ í•„ìš”ì‹œ ì‚¬ëŒ ìƒë‹´)
```

### ë„ë§¤ íë¦„

```
íšŒì›ê°€ì… (ì‚¬ì—…ì ì •ë³´ ì…ë ¥)
    â†“
ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°
    â†“
ìƒí’ˆ ë“±ë¡ (AI í‘œì¤€í™” + ì‹¤ì‹œê°„ ì‹œì„¸ ì°¸ê³ )
    â†“
ìƒí’ˆ ì˜µì…˜ ê´€ë¦¬ (1kg, 5kg, 10kg ë“±)
    â†“
ì£¼ë¬¸ ì ‘ìˆ˜ ë° ìƒíƒœ ë³€ê²½
    â†“
ì •ì‚° ë‚´ì—­ ì¡°íšŒ
```

### ê´€ë¦¬ì íë¦„

```
ë„ë§¤ ê°€ì… ìš”ì²­ ëª©ë¡ ì¡°íšŒ
    â†“
ë„ë§¤ ì •ë³´ í™•ì¸ (ì‚¬ì—…ìë²ˆí˜¸, ì—°ë½ì²˜ ë“±)
    â†“
ìŠ¹ì¸/ë°˜ë ¤ ì²˜ë¦¬ (ê°ì‚¬ ë¡œê·¸ ê¸°ë¡)
    â†“
CS í‹°ì¼“ ê´€ë¦¬
    â†“
ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ
```

---

## ğŸ§‘â€ğŸ’» 6. ìœ ì € í”Œë¡œìš° (ìƒì„¸)

### 6.1 ì†Œë§¤ (Retailer) í”Œë¡œìš°

#### íšŒì›ê°€ì… ë° ë¡œê·¸ì¸

1. Clerkë¡œ íšŒì›ê°€ì… (ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸)
2. ì—­í•  ì„ íƒ: "ì†Œë§¤ì "
3. ê¸°ë³¸ ì •ë³´ ì…ë ¥ (ìƒí˜¸ëª…, ì£¼ì†Œ, ì—°ë½ì²˜)
4. ëŒ€ì‹œë³´ë“œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (`/retailer/dashboard`)

#### ìƒí’ˆ ê²€ìƒ‰ ë° ì¥ë°”êµ¬ë‹ˆ

1. **ìƒí’ˆ ëª©ë¡** (`/retailer/products`)
   - ì¹´í…Œê³ ë¦¬ë³„ í•„í„° (ì˜ˆ: ê³¼ì¼, ì±„ì†Œ, ìœ¡ë¥˜)
   - ì§€ì—­ë³„ í•„í„° (ì˜ˆ: ì„œìš¸, ë¶€ì‚°)
   - ê²€ìƒ‰ (ìƒí’ˆëª…)
2. **ìƒí’ˆ ìƒì„¸** (`/retailer/products/[id]`)
   - ìƒí’ˆëª…, ê·œê²©, ê°€ê²©, ìµœì†Œì£¼ë¬¸ìˆ˜ëŸ‰(MOQ)
   - ìµëª… ë„ë§¤ ì •ë³´ (ì˜ˆ: "Vendor #001, ì„œìš¸ ê°•ë‚¨êµ¬")
   - **ìƒí’ˆ ì˜µì…˜ ì„ íƒ** (ì˜ˆ: 1kg, 5kg, 10kg)
   - "ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°" ë²„íŠ¼
3. **ì¥ë°”êµ¬ë‹ˆ** (`/retailer/cart`)
   - ë‹´ê¸´ ìƒí’ˆ ëª©ë¡
   - ìˆ˜ëŸ‰ ìˆ˜ì •/ì‚­ì œ
   - ì´ ê¸ˆì•¡ í‘œì‹œ
   - "ì£¼ë¬¸í•˜ê¸°" ë²„íŠ¼

#### ì£¼ë¬¸ ë° ê²°ì œ

1. **ì£¼ë¬¸ ìƒì„±** (`/retailer/checkout`)
   - ë°°ì†¡ì§€ í™•ì¸/ìˆ˜ì •
   - ìš”ì²­ì‚¬í•­ ì…ë ¥ (ì„ íƒ)
   - TossPayments ê²°ì œ ì§„í–‰
2. **ê²°ì œ ì™„ë£Œ** â†’ ì£¼ë¬¸ ìë™ ìƒì„±
3. **ì£¼ë¬¸ ë‚´ì—­** (`/retailer/orders`)
   - ì£¼ë¬¸ ëª©ë¡ (ì£¼ë¬¸ë²ˆí˜¸, ìƒí’ˆëª…, ìƒíƒœ, ë‚ ì§œ)
   - ìƒì„¸ ì¡°íšŒ (ì£¼ë¬¸ ìƒíƒœ: pending â†’ confirmed â†’ shipped â†’ completed)

#### CS ë¬¸ì˜

1. **CS ìœ„ì ¯ ë˜ëŠ” í˜ì´ì§€** (`/retailer/cs`)
   - ìƒˆ ë¬¸ì˜ ì‘ì„±
   - AI ë´‡ 1ì°¨ ì‘ë‹µ
   - ë‹µë³€ ë¶ˆë§Œì¡± ì‹œ "ì‚¬ëŒ ìƒë‹´ ì—°ê²°" ë²„íŠ¼
2. **ë¬¸ì˜ ì´ë ¥** ì¡°íšŒ

### 6.2 ë„ë§¤ (Wholesaler) í”Œë¡œìš°

#### íšŒì›ê°€ì… ë° ìŠ¹ì¸ ëŒ€ê¸°

1. Clerkë¡œ íšŒì›ê°€ì…
2. ì—­í•  ì„ íƒ: "ë„ë§¤ì "
3. **ì‚¬ì—…ì ì •ë³´ ì…ë ¥**
   - ìƒí˜¸ëª…
   - ì‚¬ì—…ìë²ˆí˜¸
   - ëŒ€í‘œìëª…
   - ì—°ë½ì²˜
   - ì£¼ì†Œ
   - ê³„ì¢Œ ì •ë³´ (ì…ê¸ˆìš©)
4. ìŠ¹ì¸ ëŒ€ê¸° í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (`/wholesaler/pending`)
   - "ê´€ë¦¬ìê°€ ìŠ¹ì¸ ì¤‘ì…ë‹ˆë‹¤" ë©”ì‹œì§€
   - Supabase Realtimeìœ¼ë¡œ ìŠ¹ì¸ ìƒíƒœ ì‹¤ì‹œê°„ í™•ì¸
5. ìŠ¹ì¸ ì™„ë£Œ â†’ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ ê°€ëŠ¥

#### ìƒí’ˆ ë“±ë¡ ë° ê´€ë¦¬ (AI ì§€ì›)

1. **ëŒ€ì‹œë³´ë“œ** (`/wholesaler/dashboard`)
   - ì˜¤ëŠ˜ ì‹ ê·œ ì£¼ë¬¸ ìˆ˜
   - ì¶œê³  ëŒ€ê¸° ì£¼ë¬¸ ìˆ˜
   - ê¸ˆì£¼ ì •ì‚° ì˜ˆì • ê¸ˆì•¡
2. **ìƒí’ˆ ê´€ë¦¬** (`/wholesaler/products`)
   - ìƒí’ˆ ëª©ë¡ (í…Œì´ë¸” í˜•íƒœ)
   - "ì‹ ê·œ ìƒí’ˆ ë“±ë¡" ë²„íŠ¼
3. **ìƒí’ˆ ë“±ë¡** (`/wholesaler/products/new`)
   - ìƒí’ˆëª… ì…ë ¥
   - **ğŸ¤– AI í‘œì¤€í™” ë²„íŠ¼** (Gemini)
     - í‘œì¤€í™”ëœ ìƒí’ˆëª… ì œì•ˆ
     - ì¹´í…Œê³ ë¦¬ ìë™ ì¶”ì²œ
     - ê²€ìƒ‰ í‚¤ì›Œë“œ ì¶”ì¶œ
     - ì‹ ë¢°ë„ ì ìˆ˜ í‘œì‹œ
   - **ğŸ“Š ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ** (ê³µê³µë°ì´í„°)
     - í’ˆëª©ë³„, ì§€ì—­ë³„ ì‹œì„¸ ê²€ìƒ‰
     - ê°€ê²© ì¶”ì´ ì°¨íŠ¸ (ìµœê·¼ 7ì¼)
     - ì°¸ê³  ê°€ê²©ìœ¼ë¡œ í™œìš©
   - ì¹´í…Œê³ ë¦¬ (ë“œë¡­ë‹¤ìš´)
   - ê·œê²© (ì˜ˆ: 1kg, 10ê°œì…)
   - ê¸°ë³¸ ê°€ê²©
   - **ìƒí’ˆ ì˜µì…˜ ì¶”ê°€** (ProductVariant)
     - ì˜µì…˜ëª… (ì˜ˆ: 1kg, 5kg, 10kg)
     - ì˜µì…˜ë³„ ê°€ê²©
     - ì˜µì…˜ë³„ ì¬ê³ 
   - ìµœì†Œì£¼ë¬¸ìˆ˜ëŸ‰(MOQ)
   - ë°°ì†¡ë¹„
   - ë°°ì†¡ ë°©ë²• (íƒë°°/ì§ë°°ì†¡/í€µì„œë¹„ìŠ¤/í™”ë¬¼/í”½ì—…)
   - ìƒí’ˆ ì´ë¯¸ì§€ (ì„ íƒ)
4. **ìƒí’ˆ ìˆ˜ì •/ì‚­ì œ** (`/wholesaler/products/[id]/edit`)

#### ì£¼ë¬¸ ê´€ë¦¬

1. **ì£¼ë¬¸ ëª©ë¡** (`/wholesaler/orders`)
   - ì£¼ë¬¸ë²ˆí˜¸, ì†Œë§¤ì  ìµëª… ID, ìƒí’ˆëª…, ìˆ˜ëŸ‰, ìƒíƒœ
   - í•„í„°: ì „ì²´/ì‹ ê·œ/ì¶œê³ ì™„ë£Œ
2. **ì£¼ë¬¸ ìƒì„¸** (`/wholesaler/orders/[id]`)
   - ì£¼ë¬¸ ì •ë³´ (ìƒí’ˆ, ì˜µì…˜, ìˆ˜ëŸ‰, ê°€ê²©, ë°°ì†¡ì§€)
   - **ìƒíƒœ ë³€ê²½ ë²„íŠ¼**
     - pending â†’ confirmed (ì£¼ë¬¸ ì ‘ìˆ˜)
     - confirmed â†’ shipped (ì¶œê³  ì™„ë£Œ)
     - shipped â†’ completed (ë°°ì†¡ ì™„ë£Œ)
   - ì†Œë§¤ì—ê²Œ ë©”ëª¨ ì „ë‹¬ (ì„ íƒ)

#### ì •ì‚° ì¡°íšŒ

1. **ì •ì‚° ë‚´ì—­** (`/wholesaler/settlements`)
   - ì£¼ë¬¸ë³„ ì •ì‚° ê¸ˆì•¡ (ì£¼ë¬¸ê¸ˆì•¡ - í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ)
   - ì •ì‚° ì˜ˆì •ì¼
   - ì •ì‚° ìƒíƒœ (pending/completed)

### 6.3 ê´€ë¦¬ì (Admin) í”Œë¡œìš°

#### ë„ë§¤ ìŠ¹ì¸ ê´€ë¦¬

1. **ë„ë§¤ ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡** (`/admin/wholesalers/pending`)
   - ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì¸ ë„ë§¤ ëª©ë¡
   - ìƒí˜¸ëª…, ì‚¬ì—…ìë²ˆí˜¸, ì‹ ì²­ì¼
2. **ë„ë§¤ ìƒì„¸ í™•ì¸** (`/admin/wholesalers/[id]`)
   - ì‚¬ì—…ì ì •ë³´ ì „ì²´ ì¡°íšŒ
   - **ìŠ¹ì¸** ë²„íŠ¼ â†’ status = 'approved' + ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
   - **ë°˜ë ¤** ë²„íŠ¼ â†’ ë°˜ë ¤ ì‚¬ìœ  ì…ë ¥ + status = 'rejected' + ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
3. ìŠ¹ì¸/ë°˜ë ¤ ì™„ë£Œ ì‹œ ë„ë§¤ ê³„ì •ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜

#### CS í‹°ì¼“ ê´€ë¦¬

1. **CS í‹°ì¼“ ëª©ë¡** (`/admin/cs/tickets`)
   - ì‚¬ëŒ ìƒë‹´ìœ¼ë¡œ ì „í™˜ëœ í‹°ì¼“ ëª©ë¡
   - ìƒíƒœ: open/answered/closed
2. **í‹°ì¼“ ìƒì„¸** (`/admin/cs/tickets/[id]`)
   - ëŒ€í™” ì´ë ¥ ì¡°íšŒ (AI ì‘ë‹µ í¬í•¨)
   - ë‹µë³€ ì‘ì„±
   - í‹°ì¼“ ì¢…ë£Œ

#### ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ

1. **ê°ì‚¬ ë¡œê·¸** (`/admin/audit-logs`)
   - ê´€ë¦¬ì ì•¡ì…˜ ë¡œê·¸ (ë„ë§¤ ìŠ¹ì¸/ë°˜ë ¤, ê³„ì • ì •ì§€ ë“±)
   - í•„í„°: ì•¡ì…˜ ìœ í˜•, ë‚ ì§œ
   - ìƒì„¸: ì‚¬ìš©ì, ëŒ€ìƒ, ì•¡ì…˜ ë‚´ìš©, IP ì£¼ì†Œ

#### ê³„ì • ê´€ë¦¬ (ì„ íƒ)

1. **ì „ì²´ ê³„ì • ëª©ë¡** (`/admin/users`)
   - ì—­í• ë³„ í•„í„° (ì†Œë§¤/ë„ë§¤/ê´€ë¦¬ì)
   - ê³„ì • ì •ì§€ ê¸°ëŠ¥ (status = 'suspended') + ê°ì‚¬ ë¡œê·¸ ê¸°ë¡

---

## ğŸ¯ 7. í•„ìˆ˜ ê¸°ëŠ¥ ì •ì˜ (ìš°ì„ ìˆœìœ„ë³„)

> **âš ï¸ ì¤‘ìš”**: ì•„ë˜ëŠ” **8ì£¼ MVPì—ì„œ ë°˜ë“œì‹œ í¬í•¨ë˜ì–´ì•¼ í•˜ëŠ” í•µì‹¬ ê¸°ëŠ¥**ì…ë‹ˆë‹¤.  
> ì‚¬ìš©ìë‹˜ì´ ì§€ì •í•˜ì‹  ìš°ì„ ìˆœìœ„ì— ë”°ë¼ êµ¬ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

### í•„ìˆ˜ ê¸°ëŠ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ğŸ—ï¸ ê¸°ë³¸ ê¸°ëŠ¥ (Week 1-6)

**ì¸ì¦ ë° ì—­í• **

- [ ] Clerk ê¸°ë°˜ íšŒì›ê°€ì…/ë¡œê·¸ì¸
- [ ] ì—­í•  ì„ íƒ (ì†Œë§¤/ë„ë§¤/ê´€ë¦¬ì)
- [ ] ì—­í• ë³„ ëŒ€ì‹œë³´ë“œ ë¦¬ë‹¤ì´ë ‰íŠ¸

**ì†Œë§¤ ê¸°ë³¸ ê¸°ëŠ¥**

- [ ] í”„ë¡œí•„ ê´€ë¦¬ (ìƒí˜¸ëª…, ì£¼ì†Œ, ì—°ë½ì²˜)
- [ ] ìƒí’ˆ ëª©ë¡ ì¡°íšŒ (ì¹´í…Œê³ ë¦¬/ì§€ì—­ í•„í„°)
- [ ] ìƒí’ˆ ê²€ìƒ‰
- [ ] ìƒí’ˆ ìƒì„¸ ì¡°íšŒ (ë„ë§¤ ì •ë³´ ìµëª… ì²˜ë¦¬)
- [ ] ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ

**ë„ë§¤ ê¸°ë³¸ ê¸°ëŠ¥**

- [ ] ì‚¬ì—…ì ì •ë³´ ë“±ë¡ (ìƒí˜¸ëª…, ì‚¬ì—…ìë²ˆí˜¸, ê³„ì¢Œ ë“±)
- [ ] ìŠ¹ì¸ ëŒ€ê¸° í˜ì´ì§€ (Realtime)
- [ ] ìƒí’ˆ ê¸°ë³¸ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ
- [ ] ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ (RLS)
- [ ] ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ (pending â†’ confirmed â†’ shipped â†’ completed)

**ê´€ë¦¬ì ê¸°ë³¸ ê¸°ëŠ¥**

- [ ] ë„ë§¤ ìŠ¹ì¸/ë°˜ë ¤

---

#### ğŸ¥‡ 1ìˆœìœ„ - Gemini ìƒí’ˆëª… í‘œì¤€í™” (Week 3)

- [ ] ë„ë§¤: ìƒí’ˆ ë“±ë¡/ìˆ˜ì • ì‹œ "AI í‘œì¤€í™”" ë²„íŠ¼
- [ ] ì‹œìŠ¤í…œ: Gemini API ì—°ë™
- [ ] ì‹œìŠ¤í…œ: ìƒí’ˆëª… ë¶„ì„ ë° í‘œì¤€í™” ì œì•ˆ
- [ ] ì‹œìŠ¤í…œ: ì¹´í…Œê³ ë¦¬ ìë™ ì¶”ì²œ
- [ ] ì‹œìŠ¤í…œ: ê²€ìƒ‰ í‚¤ì›Œë“œ ìë™ ì¶”ì¶œ
- [ ] ë„ë§¤: ì‹ ë¢°ë„ ì ìˆ˜ í‘œì‹œ
- [ ] ë„ë§¤: ì œì•ˆ ìˆ˜ë½/ê±°ë¶€
- [ ] (ì„ íƒ) AI ì œì•ˆ ì´ë ¥ ì €ì¥ (ai_product_suggestions í…Œì´ë¸”)

**ì˜ˆì‹œ í”Œë¡œìš°**:

```
ë„ë§¤ê°€ "ì‚¬ê³¼ í›„ì§€ ëŒ€ê³¼" ì…ë ¥
  â†“
AI í‘œì¤€í™” ë²„íŠ¼ í´ë¦­
  â†“
Gemini ë¶„ì„:
  - í‘œì¤€í™” ìƒí’ˆëª…: "ì‚¬ê³¼ (í›„ì§€, ëŒ€ê³¼)"
  - ì¶”ì²œ ì¹´í…Œê³ ë¦¬: "ê³¼ì¼ > ì‚¬ê³¼"
  - ê²€ìƒ‰ í‚¤ì›Œë“œ: ["ì‚¬ê³¼", "í›„ì§€", "ëŒ€ê³¼", "ê³¼ì¼"]
  - ì‹ ë¢°ë„: 95%
  â†“
ë„ë§¤ê°€ ìˆ˜ë½ â†’ ìë™ ì…ë ¥
```

---

#### ğŸ¥ˆ 2ìˆœìœ„ - ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ (Week 4)

- [ ] ë„ë§¤: ìƒí’ˆ ê°€ê²© ì±…ì • ì‹œ "ì‹œì„¸ ì¡°íšŒ" ë²„íŠ¼
- [ ] ì‹œìŠ¤í…œ: ê³µê³µë°ì´í„°í¬í„¸ API ì—°ë™
- [ ] ë„ë§¤: í’ˆëª©ë³„ ì‹œì„¸ ê²€ìƒ‰
- [ ] ë„ë§¤: ì§€ì—­ë³„ ì‹œì„¸ ê²€ìƒ‰
- [ ] ë„ë§¤: ë‚ ì§œë³„ ì‹œì„¸ ê²€ìƒ‰
- [ ] ë„ë§¤: ê°€ê²© ì¶”ì´ ì°¨íŠ¸ (ìµœê·¼ 7ì¼, Recharts)
- [ ] ë„ë§¤: ì°¸ê³  ê°€ê²©ìœ¼ë¡œ í™œìš© (ìë™ ì…ë ¥ì€ X)

**ì˜ˆì‹œ í”Œë¡œìš°**:

```
ë„ë§¤ê°€ "ì‚¬ê³¼" ê°€ê²© ì±…ì • ì¤‘
  â†“
"ì‹œì„¸ ì¡°íšŒ" ë²„íŠ¼ í´ë¦­
  â†“
ê³µê³µë°ì´í„° API í˜¸ì¶œ:
  - í’ˆëª©: ì‚¬ê³¼ (í›„ì§€)
  - ì§€ì—­: ì„œìš¸ ê°€ë½ì‹œì¥
  - ë‚ ì§œ: ìµœê·¼ 7ì¼
  â†“
ì°¨íŠ¸ í‘œì‹œ:
  - 11/12: 15,000ì›/ë°•ìŠ¤
  - 11/13: 14,500ì›/ë°•ìŠ¤
  - ...
  - 11/18: 16,000ì›/ë°•ìŠ¤
  â†“
ë„ë§¤ê°€ ì°¸ê³ í•˜ì—¬ ê°€ê²© ì…ë ¥
```

---

#### ğŸ¥‰ 3ìˆœìœ„ - ì¥ë°”êµ¬ë‹ˆ (Week 5)

- [ ] ì†Œë§¤: ìƒí’ˆ ìƒì„¸ì—ì„œ "ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°" ë²„íŠ¼
- [ ] ì†Œë§¤: ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ (`/retailer/cart`)
- [ ] ì†Œë§¤: ì¥ë°”êµ¬ë‹ˆ ëª©ë¡ ì¡°íšŒ
- [ ] ì†Œë§¤: ìˆ˜ëŸ‰ ìˆ˜ì •
- [ ] ì†Œë§¤: ìƒí’ˆ ì‚­ì œ
- [ ] ì†Œë§¤: ì´ ê¸ˆì•¡ ê³„ì‚° (ìƒí’ˆê¸ˆì•¡ + ë°°ì†¡ë¹„)
- [ ] ì†Œë§¤: ì¥ë°”êµ¬ë‹ˆì—ì„œ ì£¼ë¬¸ ìƒì„± (ì—¬ëŸ¬ ìƒí’ˆ â†’ ì£¼ë¬¸ ì—¬ëŸ¬ ê°œ)
- [ ] ì‹œìŠ¤í…œ: cart_items í…Œì´ë¸” ë° RLS ì •ì±…

**DB êµ¬ì¡°**:

```sql
cart_items:
  - id (uuid, PK)
  - retailer_id (uuid, FK)
  - product_id (uuid, FK)
  - variant_id (uuid, FK, nullable)
  - quantity (integer)
  - created_at (timestamp)
```

---

#### 4ìˆœìœ„ - ProductVariant (ìƒí’ˆ ì˜µì…˜) (Week 6)

- [ ] ë„ë§¤: ìƒí’ˆ ë“±ë¡/ìˆ˜ì • ì‹œ "ì˜µì…˜ ì¶”ê°€" ë²„íŠ¼
- [ ] ë„ë§¤: ì˜µì…˜ëª… ì…ë ¥ (ì˜ˆ: "1kg", "5kg", "10kg")
- [ ] ë„ë§¤: ì˜µì…˜ë³„ ê°€ê²© ì„¤ì •
- [ ] ë„ë§¤: ì˜µì…˜ë³„ ì¬ê³  ê´€ë¦¬
- [ ] ì†Œë§¤: ìƒí’ˆ ìƒì„¸ì—ì„œ ì˜µì…˜ ì„ íƒ (ë“œë¡­ë‹¤ìš´)
- [ ] ì†Œë§¤: ì˜µì…˜ ì„ íƒ ì‹œ ê°€ê²©/ì¬ê³  ì—…ë°ì´íŠ¸
- [ ] ì†Œë§¤: ì¥ë°”êµ¬ë‹ˆ/ì£¼ë¬¸ ì‹œ ì„ íƒí•œ ì˜µì…˜ ì €ì¥
- [ ] ì‹œìŠ¤í…œ: product_variants í…Œì´ë¸” ë° RLS ì •ì±…

**DB êµ¬ì¡°**:

```sql
product_variants:
  - id (uuid, PK)
  - product_id (uuid, FK)
  - name (text) â†’ "1kg", "5kg"
  - price (integer)
  - stock_quantity (integer)
  - is_active (boolean)
  - created_at (timestamp)
```

**ì˜ˆì‹œ í”Œë¡œìš°**:

```
ë„ë§¤ê°€ "ì‚¬ê³¼" ìƒí’ˆ ë“±ë¡
  â†“
ì˜µì…˜ ì¶”ê°€:
  - 1kg: 5,000ì›, ì¬ê³  100ê°œ
  - 5kg: 23,000ì›, ì¬ê³  50ê°œ
  - 10kg: 45,000ì›, ì¬ê³  20ê°œ
  â†“
ì†Œë§¤ê°€ ìƒí’ˆ ìƒì„¸ ì¡°íšŒ
  â†“
ì˜µì…˜ ì„ íƒ: "5kg" â†’ ê°€ê²© 23,000ì› í‘œì‹œ
  â†“
ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° (variant_id ì €ì¥)
```

---

#### 5ìˆœìœ„ - CS AI ë´‡ (Week 7)

- [ ] ê³µí†µ: CS ìœ„ì ¯ ë˜ëŠ” í˜ì´ì§€
- [ ] ì‚¬ìš©ì: ìƒˆ ë¬¸ì˜ ì‘ì„±
- [ ] ì‹œìŠ¤í…œ: LLM API ì—°ë™ (OpenAI ë˜ëŠ” Gemini)
- [ ] ì‹œìŠ¤í…œ: FAQ/ì •ì±… ê¸°ë°˜ 1ì°¨ ìë™ ì‘ë‹µ
- [ ] ì‹œìŠ¤í…œ: ì£¼ë¬¸ ì¡°íšŒ ê¸°ëŠ¥ (ì£¼ë¬¸ë²ˆí˜¸ ì…ë ¥ â†’ ë‚´ë¶€ API ì¡°íšŒ â†’ LLMì— ì „ë‹¬)
- [ ] ì‚¬ìš©ì: "ì‚¬ëŒ ìƒë‹´ ì—°ê²°" ë²„íŠ¼
- [ ] ì‹œìŠ¤í…œ: í‹°ì¼“ ìƒì„± (cs_threads ìƒíƒœ ë³€ê²½: bot_handled â†’ escalated)
- [ ] ê´€ë¦¬ì: í‹°ì¼“ ëª©ë¡ ì¡°íšŒ
- [ ] ê´€ë¦¬ì: ë‹µë³€ ì‘ì„±
- [ ] ê´€ë¦¬ì: í‹°ì¼“ ì¢…ë£Œ
- [ ] ì‹œìŠ¤í…œ: cs_threads, cs_messages í…Œì´ë¸” ë° RLS ì •ì±…

**DB êµ¬ì¡°**:

```sql
cs_threads:
  - id (uuid, PK)
  - user_id (uuid, FK)
  - title (text)
  - status (text) â†’ 'open' | 'bot_handled' | 'escalated' | 'closed'
  - created_at (timestamp)

cs_messages:
  - id (uuid, PK)
  - thread_id (uuid, FK)
  - sender_type (text) â†’ 'user' | 'bot' | 'admin'
  - sender_id (uuid, FK, nullable)
  - content (text)
  - created_at (timestamp)
```

**ì˜ˆì‹œ í”Œë¡œìš°**:

```
ì†Œë§¤ê°€ "ì£¼ë¬¸ ë°°ì†¡ ì–¸ì œ ì˜¤ë‚˜ìš”?" ë¬¸ì˜
  â†“
AI ë´‡: "ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ í™•ì¸í•´ë“œë¦´ê²Œìš”"
  â†“
ì†Œë§¤: "ORD-12345"
  â†“
ì‹œìŠ¤í…œ: ë‚´ë¶€ APIë¡œ ì£¼ë¬¸ ì¡°íšŒ â†’ ìƒíƒœ "shipped"
  â†“
AI ë´‡: "ê³ ê°ë‹˜ì˜ ì£¼ë¬¸ì€ ì¶œê³  ì™„ë£Œë˜ì—ˆìœ¼ë©°, 2ì¼ ë‚´ ë„ì°© ì˜ˆì •ì…ë‹ˆë‹¤"
  â†“
ì†Œë§¤: "ê°ì‚¬í•©ë‹ˆë‹¤"
  â†“
ì‹œìŠ¤í…œ: í‹°ì¼“ ìƒíƒœ 'bot_handled'

ë§Œì•½ ì†Œë§¤ê°€ "ë‹µë³€ì´ ë„ì›€ì´ ì•ˆ ë¼ìš”" í´ë¦­
  â†“
ì‹œìŠ¤í…œ: í‹°ì¼“ ìƒíƒœ 'escalated'
  â†“
ê´€ë¦¬ì: í‹°ì¼“ ëª©ë¡ì—ì„œ í™•ì¸ í›„ ë‹µë³€
```

---

#### 6ìˆœìœ„ - ê°ì‚¬ ë¡œê·¸ (Week 8)

- [ ] ì‹œìŠ¤í…œ: audit_logs í…Œì´ë¸”
- [ ] ì‹œìŠ¤í…œ: ì£¼ìš” ê´€ë¦¬ì ì•¡ì…˜ ìë™ ë¡œê¹…
  - ë„ë§¤ ìŠ¹ì¸/ë°˜ë ¤
  - ê³„ì • ì •ì§€/í•´ì œ
  - ì„¤ì • ë³€ê²½ (ìˆ˜ìˆ˜ë£Œìœ¨ ë“±)
  - PII ì¡°íšŒ (ë¯¼ê° ì •ë³´ ì—´ëŒ)
- [ ] ê´€ë¦¬ì: ê°ì‚¬ ë¡œê·¸ í˜ì´ì§€ (`/admin/audit-logs`)
- [ ] ê´€ë¦¬ì: í•„í„° (ì•¡ì…˜ ìœ í˜•, ë‚ ì§œ, ì‚¬ìš©ì)
- [ ] ê´€ë¦¬ì: ë¡œê·¸ ìƒì„¸ ì¡°íšŒ (ì•¡ì…˜ ë‚´ìš©, IP ì£¼ì†Œ, ëŒ€ìƒ)

**DB êµ¬ì¡°**:

```sql
audit_logs:
  - id (uuid, PK)
  - user_id (uuid, FK) â†’ ì•¡ì…˜ì„ ìˆ˜í–‰í•œ ì‚¬ìš©ì
  - action (text) â†’ 'wholesaler_approve', 'account_suspend' ë“±
  - target_type (text) â†’ 'wholesaler', 'user', 'settings' ë“±
  - target_id (uuid, nullable)
  - details (jsonb) â†’ ì¶”ê°€ ì •ë³´ (ì˜ˆ: ë°˜ë ¤ ì‚¬ìœ )
  - ip_address (text, nullable)
  - created_at (timestamp)
```

**ì˜ˆì‹œ**:

```
ê´€ë¦¬ì Aê°€ ë„ë§¤ Bë¥¼ ìŠ¹ì¸
  â†“
ê°ì‚¬ ë¡œê·¸ ê¸°ë¡:
  - user_id: admin_A_id
  - action: 'wholesaler_approve'
  - target_type: 'wholesaler'
  - target_id: wholesaler_B_id
  - details: { "business_name": "ë„ë§¤ìƒ B", "business_number": "123-45-67890" }
  - ip_address: "192.168.1.1"
  - created_at: 2025-11-19 10:30:00
```

---

#### 7ìˆœìœ„ - TossPayments ê²°ì œ ì—°ë™ (Week 7)

- [ ] ì†Œë§¤: ì¥ë°”êµ¬ë‹ˆì—ì„œ "ì£¼ë¬¸í•˜ê¸°" í´ë¦­
- [ ] ì†Œë§¤: ë°°ì†¡ì§€ í™•ì¸/ìˆ˜ì •
- [ ] ì‹œìŠ¤í…œ: TossPayments ê²°ì œ ìš”ì²­ (í…ŒìŠ¤íŠ¸ ëª¨ë“œ)
- [ ] ì†Œë§¤: ê²°ì œ ì§„í–‰ (ì¹´ë“œ, ê³„ì¢Œì´ì²´ ë“±)
- [ ] ì‹œìŠ¤í…œ: ê²°ì œ ì„±ê³µ ì½œë°± ìˆ˜ì‹  (`/api/payments/callback`)
- [ ] ì‹œìŠ¤í…œ: ì£¼ë¬¸ ìƒì„± (orders í…Œì´ë¸”)
- [ ] ì‹œìŠ¤í…œ: ì£¼ë¬¸ ìƒíƒœ ìë™ ì—…ë°ì´íŠ¸ (pending)
- [ ] ì‹œìŠ¤í…œ: ì •ì‚° ê³„ì‚° (settlements í…Œì´ë¸”)
  - í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ ê³„ì‚° (ì˜ˆ: 5%)
  - ë„ë§¤ ì •ì‚°ì•¡ ê³„ì‚° (ì£¼ë¬¸ê¸ˆì•¡ - ìˆ˜ìˆ˜ë£Œ)
  - ì •ì‚° ì˜ˆì •ì¼ ì„¤ì • (ì˜ˆ: D+7)
- [ ] ë„ë§¤: ì •ì‚° ë‚´ì—­ ì¡°íšŒ
- [ ] âš ï¸ **ìë™ ì†¡ê¸ˆì€ ì œì™¸** (ìˆ˜ë™ ì •ì‚°)

**DB êµ¬ì¡°**:

```sql
settlements:
  - id (uuid, PK)
  - order_id (uuid, FK)
  - wholesaler_id (uuid, FK)
  - order_amount (integer) â†’ ì£¼ë¬¸ ê¸ˆì•¡
  - platform_fee (integer) â†’ í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ
  - wholesaler_amount (integer) â†’ ë„ë§¤ ì •ì‚°ì•¡
  - platform_fee_rate (decimal) â†’ ìˆ˜ìˆ˜ë£Œìœ¨ (ì˜ˆ: 0.05)
  - status (text) â†’ 'pending' | 'completed'
  - scheduled_payout_at (timestamp)
  - completed_at (timestamp, nullable)
  - created_at (timestamp)
```

**ì˜ˆì‹œ í”Œë¡œìš°**:

```
ì†Œë§¤ê°€ 10,000ì› ìƒí’ˆ ê²°ì œ
  â†“
TossPayments ê²°ì œ ì„±ê³µ
  â†“
ì‹œìŠ¤í…œ: orders í…Œì´ë¸”ì— ì£¼ë¬¸ ìƒì„±
  - total_amount: 10,000ì›
  - status: 'pending'
  â†“
ì‹œìŠ¤í…œ: settlements í…Œì´ë¸”ì— ì •ì‚° ìƒì„±
  - order_amount: 10,000ì›
  - platform_fee_rate: 0.05 (5%)
  - platform_fee: 500ì›
  - wholesaler_amount: 9,500ì›
  - scheduled_payout_at: 2025-11-26 (D+7)
  - status: 'pending'
  â†“
ë„ë§¤ê°€ ì •ì‚° ë‚´ì—­ ì¡°íšŒ:
  "11ì›” 19ì¼ ì£¼ë¬¸, ì •ì‚° ì˜ˆì •ì•¡ 9,500ì› (11ì›” 26ì¼ ì§€ê¸‰ ì˜ˆì •)"
```

---

## ğŸ¯ 8. ì£¼ìš” ê¸°ëŠ¥ ìš”ì•½ (MVP)

### 8.1 ì†Œë§¤ ê¸°ëŠ¥

| ê¸°ëŠ¥                | ì„¤ëª…                                | ìš°ì„ ìˆœìœ„        |
| ------------------- | ----------------------------------- | --------------- |
| íšŒì›ê°€ì…/ë¡œê·¸ì¸     | Clerk ê¸°ë°˜ ì¸ì¦, ì—­í•  ì„ íƒ (ì†Œë§¤)   | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| í”„ë¡œí•„ ê´€ë¦¬         | ìƒí˜¸ëª…, ì£¼ì†Œ, ì—°ë½ì²˜ ë“±ë¡/ìˆ˜ì •      | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ìƒí’ˆ ëª©ë¡ ì¡°íšŒ      | ì¹´í…Œê³ ë¦¬/ì§€ì—­/ê²€ìƒ‰ í•„í„°             | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ìƒí’ˆ ìƒì„¸ ì¡°íšŒ      | ë„ë§¤ ìµëª… ID, ê°€ê²©, MOQ, ì˜µì…˜       | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ì¥ë°”êµ¬ë‹ˆ            | ì—¬ëŸ¬ ìƒí’ˆ ë‹´ê¸°/ìˆ˜ì •/ì‚­ì œ            | ğŸ¥‰ 3ìˆœìœ„        |
| ì£¼ë¬¸ ìƒì„± ë° ê²°ì œ   | TossPayments ê²°ì œ ì—°ë™              | 7ìˆœìœ„           |
| ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ      | ì£¼ë¬¸ ëª©ë¡ ë° ìƒì„¸, ìƒíƒœ í™•ì¸        | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| CS ë¬¸ì˜ (AI ë´‡)     | 1ì°¨ AI ì‘ë‹µ â†’ ì‚¬ëŒ ìƒë‹´ ì „í™˜        | 5ìˆœìœ„           |
| ~~ë¶„ë°°ì •ì‚° ìë™í™”~~ | **Phase 2** (MVPì—ì„œëŠ” ì •ì‚° ê³„ì‚°ë§Œ) | 8ìˆœìœ„ (Phase 2) |

### 8.2 ë„ë§¤ ê¸°ëŠ¥

| ê¸°ëŠ¥                | ì„¤ëª…                                           | ìš°ì„ ìˆœìœ„        |
| ------------------- | ---------------------------------------------- | --------------- |
| íšŒì›ê°€ì…/ë¡œê·¸ì¸     | Clerk ê¸°ë°˜ ì¸ì¦, ì—­í•  ì„ íƒ (ë„ë§¤)              | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ì‚¬ì—…ì ì •ë³´ ë“±ë¡    | ìƒí˜¸ëª…, ì‚¬ì—…ìë²ˆí˜¸, ê³„ì¢Œ ë“±                    | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ìŠ¹ì¸ ëŒ€ê¸°           | ê´€ë¦¬ì ìŠ¹ì¸ ì „ê¹Œì§€ ëŒ€ê¸° í˜ì´ì§€ í‘œì‹œ (Realtime) | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ëŒ€ì‹œë³´ë“œ            | ì˜¤ëŠ˜ ì£¼ë¬¸, ì¶œê³  ëŒ€ê¸°, ì •ì‚° ì˜ˆì • ìš”ì•½           | ğŸŸ¡ ê¶Œì¥         |
| ìƒí’ˆ ë“±ë¡/ìˆ˜ì •      | ìƒí’ˆëª…, ì¹´í…Œê³ ë¦¬, ê°€ê²©, MOQ, ì¬ê³  ë“±           | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| AI ìƒí’ˆëª… í‘œì¤€í™”    | Gemini ê¸°ë°˜ ìƒí’ˆëª…/ì¹´í…Œê³ ë¦¬/í‚¤ì›Œë“œ ìë™ ì¶”ì¶œ   | ğŸ¥‡ 1ìˆœìœ„        |
| ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ    | ê³µê³µë°ì´í„° ê¸°ë°˜ ê°€ê²© ì°¸ê³                       | ğŸ¥ˆ 2ìˆœìœ„        |
| ìƒí’ˆ ì˜µì…˜ ê´€ë¦¬      | ProductVariant (1kg, 5kg, 10kg ë“±)             | 4ìˆœìœ„           |
| ìƒí’ˆ ì‚­ì œ/ë¹„í™œì„±í™”  | ìƒí’ˆ ë…¸ì¶œ ì¤‘ë‹¨                                 | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ      | ë³¸ì¸ ìƒí’ˆì— ëŒ€í•œ ì£¼ë¬¸ë§Œ ì¡°íšŒ (RLS)             | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ì£¼ë¬¸ ìƒíƒœ ë³€ê²½      | pending â†’ confirmed â†’ shipped â†’ completed      | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸)  |
| ì •ì‚° ì¡°íšŒ           | ì •ì‚° ì˜ˆì •ì•¡, ì˜ˆì •ì¼, ìƒíƒœ ì¡°íšŒ (ìë™ ì†¡ê¸ˆ X)   | 7ìˆœìœ„           |
| ~~ë¶„ë°°ì •ì‚° ìë™í™”~~ | **Phase 2** (ìë™ ì†¡ê¸ˆ)                        | 8ìˆœìœ„ (Phase 2) |

### 8.3 ê´€ë¦¬ì ê¸°ëŠ¥

| ê¸°ëŠ¥            | ì„¤ëª…                             | ìš°ì„ ìˆœìœ„       |
| --------------- | -------------------------------- | -------------- |
| ë¡œê·¸ì¸          | Clerk ê¸°ë°˜ ê´€ë¦¬ì ì¸ì¦           | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸) |
| ë„ë§¤ ìŠ¹ì¸/ë°˜ë ¤  | ë„ë§¤ ê°€ì… ìš”ì²­ ìŠ¹ì¸ ë˜ëŠ” ë°˜ë ¤    | ğŸ”´ í•„ìˆ˜ (ê¸°ë³¸) |
| CS í‹°ì¼“ ê´€ë¦¬    | ì‚¬ëŒ ìƒë‹´ ì „í™˜ëœ í‹°ì¼“ ë‹µë³€       | 5ìˆœìœ„          |
| ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ  | ê´€ë¦¬ì ì•¡ì…˜ ë¡œê·¸ ì¶”ì             | 6ìˆœìœ„          |
| ê³„ì • ëª©ë¡ ì¡°íšŒ  | ì „ì²´ ì‚¬ìš©ì ëª©ë¡ (ì—­í• ë³„ í•„í„°)   | ğŸŸ¡ ê¶Œì¥        |
| ê³„ì • ì •ì§€       | íŠ¹ì • ê³„ì • ì ‘ê·¼ ì°¨ë‹¨              | ğŸŸ¡ ê¶Œì¥        |
| ~~ìˆ˜ìˆ˜ë£Œ ì„¤ì •~~ | **Phase 2** (ì¼ë‹¨ ê³ ì • ìˆ˜ìˆ˜ë£Œìœ¨) | Phase 2        |

### 8.4 ê³µí†µ ê¸°ëŠ¥

| ê¸°ëŠ¥        | ì„¤ëª…                                | ìš°ì„ ìˆœìœ„ |
| ----------- | ----------------------------------- | -------- |
| CS AI ë´‡    | LLM ê¸°ë°˜ 1ì°¨ ì‘ë‹µ + ì‚¬ëŒ ìƒë‹´ ì „í™˜  | 5ìˆœìœ„    |
| ë¬¸ì˜ ê²Œì‹œíŒ | CS ë´‡ìœ¼ë¡œ ëŒ€ì²´ (ë³„ë„ ê²Œì‹œíŒ ë¶ˆí•„ìš”) | -        |

---

## ğŸ—‚ï¸ 9. DB ì„¤ê³„ (ì „ì²´)

> **âš ï¸ ì¤‘ìš”**: Clerk ì¸ì¦ì„ ì‚¬ìš©í•˜ë¯€ë¡œ **`clerk_user_id`ê°€ profiles í…Œì´ë¸”ì— í•„ìˆ˜**ì…ë‹ˆë‹¤!

### 9.0 ë°ì´í„°ë² ì´ìŠ¤ ì „ì²´ êµ¬ì¡°ë„

#### ğŸ“Š ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Clerk (ì™¸ë¶€)]
    â”‚
    â”‚ clerk_user_id (ì¸ì¦)
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   profiles   â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ (ì‚¬ìš©ì ê³„ì •) â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
       â”‚                           â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â–¼          â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚retailers â”‚  â”‚wholesalersâ”‚  â”‚  admin  â”‚
â”‚  (ì†Œë§¤)  â”‚  â”‚  (ë„ë§¤)   â”‚  â”‚ (ê´€ë¦¬ì) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚
     â”‚              â”‚
     â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚              â–¼                 â–¼
     â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚         â”‚ products â”‚â”€â”€â”€â”€>â”‚product_       â”‚
     â”‚         â”‚  (ìƒí’ˆ)  â”‚     â”‚variants      â”‚
     â”‚         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚(ìƒí’ˆ ì˜µì…˜)    â”‚
     â”‚              â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚              â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚              â”‚                  â”‚
     â–¼              â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚cart_itemsâ”‚   â”‚ orders  â”‚â—„â”€â”€â”€â”€>â”‚settlementsâ”‚
â”‚(ì¥ë°”êµ¬ë‹ˆ) â”‚   â”‚ (ì£¼ë¬¸)  â”‚      â”‚  (ì •ì‚°)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚cs_threadsâ”‚  â”‚audit_logsâ”‚  â”‚ai_product_    â”‚
â”‚(CS ìŠ¤ë ˆë“œ)â”‚  â”‚(ê°ì‚¬ë¡œê·¸) â”‚  â”‚suggestions    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚(AI ì œì•ˆ ë¡œê·¸)  â”‚
     â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚cs_messagesâ”‚
â”‚(CS ë©”ì‹œì§€)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ”— ì£¼ìš” ê´€ê³„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í•µì‹¬ ë°ì´í„° íë¦„                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£ íšŒì›ê°€ì… íë¦„:
   Clerk ê°€ì… â†’ profiles (clerk_user_id ì €ì¥)
              â†’ retailers OR wholesalers í…Œì´ë¸” ìƒì„±

2ï¸âƒ£ ìƒí’ˆ ë“±ë¡ íë¦„ (ë„ë§¤):
   wholesalers â†’ products â†’ product_variants (ì˜µì…˜)
                          â†’ ai_product_suggestions (AI í‘œì¤€í™”)

3ï¸âƒ£ ì£¼ë¬¸ íë¦„ (ì†Œë§¤):
   retailers â†’ cart_items (ì¥ë°”êµ¬ë‹ˆ)
            â†’ orders (ì£¼ë¬¸ ìƒì„±)
            â†’ settlements (ì •ì‚° ê³„ì‚°)

4ï¸âƒ£ CS íë¦„:
   profiles â†’ cs_threads â†’ cs_messages (ëŒ€í™”)

5ï¸âƒ£ ê´€ë¦¬ì íë¦„:
   admin â†’ wholesalers (ìŠ¹ì¸/ë°˜ë ¤)
        â†’ audit_logs (ê°ì‚¬ ë¡œê·¸ ê¸°ë¡)
```

#### ğŸ“ í…Œì´ë¸” ê°„ ê´€ê³„ (Cardinality)

```
profiles (1) â”€â”€< (1) retailers
profiles (1) â”€â”€< (1) wholesalers
wholesalers (1) â”€â”€< (M) products
products (1) â”€â”€< (M) product_variants
products (1) â”€â”€< (M) cart_items
retailers (1) â”€â”€< (M) cart_items
retailers (1) â”€â”€< (M) orders
wholesalers (1) â”€â”€< (M) orders
products (1) â”€â”€< (M) orders
orders (1) â”€â”€< (1) settlements
profiles (1) â”€â”€< (M) cs_threads
cs_threads (1) â”€â”€< (M) cs_messages
profiles (1) â”€â”€< (M) audit_logs
wholesalers (1) â”€â”€< (M) ai_product_suggestions

M = Many (ì—¬ëŸ¬ ê°œ)
1 = One (í•˜ë‚˜)
```

---

### 9.1 Supabase ìŠ¤í‚¤ë§ˆ íŒŒì¼

> **ğŸ“ ì „ì²´ SQL ìŠ¤í‚¤ë§ˆ**: `supabase_schema.sql` íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”!  
> ì´ íŒŒì¼ì„ Supabase SQL Editorì— ë³µì‚¬-ë¶™ì—¬ë„£ê¸°í•˜ë©´ ëª¨ë“  í…Œì´ë¸”ì´ í•œ ë²ˆì— ìƒì„±ë©ë‹ˆë‹¤.

#### ğŸ’¡ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

1. **Supabase í”„ë¡œì íŠ¸ ìƒì„±**
   - [Supabase Dashboard](https://supabase.com/dashboard) ì ‘ì†
   - "New Project" í´ë¦­
2. **SQL Editor ì—´ê¸°**
   - ì¢Œì¸¡ ë©”ë‰´ì—ì„œ "SQL Editor" í´ë¦­
3. **ìŠ¤í‚¤ë§ˆ ì ìš©**
   - `supabase_schema.sql` íŒŒì¼ ë‚´ìš© ì „ì²´ ë³µì‚¬
   - SQL Editorì— ë¶™ì—¬ë„£ê¸°
   - "Run" ë²„íŠ¼ í´ë¦­ â–¶ï¸
4. **ì™„ë£Œ!** ğŸ‰
   - 13ê°œ í…Œì´ë¸” + RLS ì •ì±… + ì¸ë±ìŠ¤ê°€ ëª¨ë‘ ìƒì„±ë©ë‹ˆë‹¤.

---

### 9.2 Clerk ì—°ë™ ê°€ì´ë“œ â­

#### Clerkì—ì„œ Supabaseë¡œ ì‚¬ìš©ì ì •ë³´ ë™ê¸°í™”

**í•µì‹¬**: Clerkì—ì„œ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ `user_id`ë¥¼ Supabase `profiles.clerk_user_id`ì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤!

#### 1ï¸âƒ£ íšŒì›ê°€ì… ì‹œ (Sign-up)

```typescript
// app/(auth)/sign-up/[[...sign-up]]/page.tsx
import { useUser } from "@clerk/nextjs";
import { useEffect } from "react";
import { createClient } from "@/lib/supabase";

export default function SignUpPage() {
  const { user, isLoaded } = useUser();
  const supabase = createClient();

  useEffect(() => {
    async function syncUserToSupabase() {
      if (isLoaded && user) {
        // Clerk user_idë¥¼ ê°€ì ¸ì˜´
        const clerkUserId = user.id;
        const email = user.primaryEmailAddress?.emailAddress;

        // Supabase profiles í…Œì´ë¸”ì— ì‚½ì…
        const { data, error } = await supabase
          .from("profiles")
          .upsert({
            clerk_user_id: clerkUserId,
            email: email,
            role: "retailer", // ë˜ëŠ” ì‚¬ìš©ì ì„ íƒì— ë”°ë¼
          })
          .select()
          .single();

        if (error) {
          console.error("í”„ë¡œí•„ ìƒì„± ì‹¤íŒ¨:", error);
        } else {
          console.log("í”„ë¡œí•„ ìƒì„± ì„±ê³µ:", data);
        }
      }
    }

    syncUserToSupabase();
  }, [isLoaded, user]);

  return <div>íšŒì›ê°€ì… í˜ì´ì§€</div>;
}
```

#### 2ï¸âƒ£ ë¡œê·¸ì¸ í›„ í”„ë¡œí•„ ì¡°íšŒ

```typescript
// lib/getUserProfile.ts
import { currentUser } from "@clerk/nextjs/server";
import { createClient } from "@/lib/supabase";

export async function getUserProfile() {
  const user = await currentUser();

  if (!user) {
    return null;
  }

  const supabase = createClient();

  // clerk_user_idë¡œ í”„ë¡œí•„ ì¡°íšŒ
  const { data: profile, error } = await supabase
    .from("profiles")
    .select("*, retailers(*), wholesalers(*)")
    .eq("clerk_user_id", user.id)
    .single();

  if (error) {
    console.error("í”„ë¡œí•„ ì¡°íšŒ ì‹¤íŒ¨:", error);
    return null;
  }

  return profile;
}
```

#### 3ï¸âƒ£ ì—­í• ë³„ ë¦¬ë‹¤ì´ë ‰íŠ¸

```typescript
// middleware.ts ë˜ëŠ” app/layout.tsx
import { getUserProfile } from "@/lib/getUserProfile";
import { redirect } from "next/navigation";

export async function checkUserRole() {
  const profile = await getUserProfile();

  if (!profile) {
    redirect("/sign-in");
  }

  switch (profile.role) {
    case "retailer":
      redirect("/retailer/dashboard");
      break;
    case "wholesaler":
      redirect("/wholesaler/dashboard");
      break;
    case "admin":
      redirect("/admin/dashboard");
      break;
    default:
      redirect("/");
  }
}
```

---

### 9.3 ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

#### ì˜ˆì‹œ 1: ë„ë§¤ê°€ ìƒí’ˆ ë“±ë¡

```typescript
// app/wholesaler/products/new/page.tsx
import { getUserProfile } from "@/lib/getUserProfile";
import { createClient } from "@/lib/supabase";

export default async function NewProductPage() {
  const profile = await getUserProfile();
  const supabase = createClient();

  async function createProduct(formData: FormData) {
    "use server";

    const wholesaler = profile.wholesalers[0]; // ë„ë§¤ ì •ë³´ ê°€ì ¸ì˜¤ê¸°

    const { data, error } = await supabase
      .from("products")
      .insert({
        wholesaler_id: wholesaler.id,
        name: formData.get("name"),
        category: formData.get("category"),
        price: parseInt(formData.get("price")),
        // ... ê¸°íƒ€ í•„ë“œ
      })
      .select()
      .single();

    if (error) {
      console.error("ìƒí’ˆ ë“±ë¡ ì‹¤íŒ¨:", error);
    } else {
      console.log("ìƒí’ˆ ë“±ë¡ ì„±ê³µ:", data);
    }
  }

  return <form action={createProduct}>...</form>;
}
```

#### ì˜ˆì‹œ 2: ì†Œë§¤ê°€ ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆ ë‹´ê¸°

```typescript
// app/retailer/products/[id]/page.tsx
"use client";

import { useState } from "react";
import { createClient } from "@/lib/supabase";

export default function ProductDetailPage({
  params,
}: {
  params: { id: string };
}) {
  const [quantity, setQuantity] = useState(1);
  const supabase = createClient();

  async function addToCart(productId: string, variantId?: string) {
    const { data: profile } = await supabase
      .from("profiles")
      .select("id, retailers(id)")
      .single();

    const retailerId = profile.retailers[0].id;

    const { error } = await supabase.from("cart_items").insert({
      retailer_id: retailerId,
      product_id: productId,
      variant_id: variantId,
      quantity: quantity,
    });

    if (error) {
      console.error("ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° ì‹¤íŒ¨:", error);
    } else {
      alert("ì¥ë°”êµ¬ë‹ˆì— ë‹´ì•˜ìŠµë‹ˆë‹¤!");
    }
  }

  return <button onClick={() => addToCart(params.id)}>ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>;
}
```

#### ì˜ˆì‹œ 3: ê´€ë¦¬ìê°€ ë„ë§¤ ìŠ¹ì¸

```typescript
// app/admin/wholesalers/[id]/page.tsx
import { createClient } from "@/lib/supabase";

export default async function WholesalerDetailPage({
  params,
}: {
  params: { id: string };
}) {
  const supabase = createClient();

  async function approveWholesaler() {
    "use server";

    const { error } = await supabase
      .from("wholesalers")
      .update({
        status: "approved",
        approved_at: new Date().toISOString(),
      })
      .eq("id", params.id);

    // ê°ì‚¬ ë¡œê·¸ ê¸°ë¡
    await supabase.from("audit_logs").insert({
      user_id: "ê´€ë¦¬ì_user_id", // í˜„ì¬ ë¡œê·¸ì¸í•œ ê´€ë¦¬ì
      action: "wholesaler_approve",
      target_type: "wholesaler",
      target_id: params.id,
    });

    if (error) {
      console.error("ìŠ¹ì¸ ì‹¤íŒ¨:", error);
    }
  }

  return <button onClick={approveWholesaler}>ìŠ¹ì¸</button>;
}
```

---

### 9.4 í…Œì´ë¸” êµ¬ì¡° (ì´ 13ê°œ)

```sql
-- ============================================
-- ë„ë§¤-ì†Œë§¤ ì¤‘ê°œ í”Œë«í¼ DB ìŠ¤í‚¤ë§ˆ
-- Supabase + Clerk ì—°ë™
-- ============================================

-- 1. profiles (ì‚¬ìš©ì í”„ë¡œí•„) - Clerk ì—°ë™ í•µì‹¬!
CREATE TABLE profiles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  clerk_user_id TEXT UNIQUE NOT NULL, -- âš ï¸ Clerkì—ì„œ ë°›ì€ user_id (í•„ìˆ˜!)
  email TEXT NOT NULL,
  role TEXT NOT NULL CHECK (role IN ('retailer', 'wholesaler', 'admin')),
  status TEXT NOT NULL DEFAULT 'active' CHECK (status IN ('active', 'suspended')),
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

-- clerk_user_id ì¸ë±ìŠ¤ (ë¹ ë¥¸ ì¡°íšŒìš©)
CREATE INDEX idx_profiles_clerk_user_id ON profiles(clerk_user_id);
CREATE INDEX idx_profiles_role ON profiles(role);

COMMENT ON TABLE profiles IS 'ì‚¬ìš©ì ê¸°ë³¸ í”„ë¡œí•„ (Clerk ì—°ë™)';
COMMENT ON COLUMN profiles.clerk_user_id IS 'Clerkì—ì„œ ë°›ì€ ê³ ìœ  user_id (ì¸ì¦ìš©)';
```

---

#### 1. `profiles` (ì‚¬ìš©ì í”„ë¡œí•„) â­ **í•µì‹¬ í…Œì´ë¸”**

> **âš ï¸ ì¤‘ìš”**: `clerk_user_id`ëŠ” Clerk ì¸ì¦ ì‹œìŠ¤í…œê³¼ ì—°ë™í•˜ëŠ” **í•„ìˆ˜ í•„ë“œ**ì…ë‹ˆë‹¤!

**ì—­í• **:

- Clerkì—ì„œ ì¸ì¦ëœ ì‚¬ìš©ì ì •ë³´ ì €ì¥
- `clerk_user_id`ë¡œ Clerkì™€ Supabase ì—°ê²°
- ì—­í• (role) ê¸°ë°˜ìœ¼ë¡œ retailer/wholesaler/admin êµ¬ë¶„

**í•„ë“œ**:

```sql
CREATE TABLE profiles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  clerk_user_id TEXT UNIQUE NOT NULL, -- Clerk user_id (í•„ìˆ˜!)
  email TEXT NOT NULL,
  role TEXT NOT NULL CHECK (role IN ('retailer', 'wholesaler', 'admin')),
  status TEXT NOT NULL DEFAULT 'active' CHECK (status IN ('active', 'suspended')),
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

**ì¸ë±ìŠ¤**:

```sql
CREATE INDEX idx_profiles_clerk_user_id ON profiles(clerk_user_id);
CREATE INDEX idx_profiles_role ON profiles(role);
```

#### 2. `retailers` (ì†Œë§¤ ì •ë³´)

```sql
CREATE TABLE retailers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  business_name TEXT NOT NULL,
  address TEXT NOT NULL,
  phone TEXT NOT NULL,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 3. `wholesalers` (ë„ë§¤ ì •ë³´)

```sql
CREATE TABLE wholesalers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  business_name TEXT NOT NULL,
  business_number TEXT NOT NULL UNIQUE,
  representative TEXT NOT NULL,
  phone TEXT NOT NULL,
  address TEXT NOT NULL,
  bank_account TEXT NOT NULL,
  anonymous_code TEXT NOT NULL UNIQUE, -- ì˜ˆ: "VENDOR-001"
  status TEXT NOT NULL DEFAULT 'pending' CHECK (status IN ('pending', 'approved', 'rejected', 'suspended')),
  rejection_reason TEXT,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  approved_at TIMESTAMPTZ
);
```

#### 4. `products` (ìƒí’ˆ)

```sql
CREATE TABLE products (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  wholesaler_id UUID NOT NULL REFERENCES wholesalers(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  category TEXT NOT NULL,
  specification TEXT, -- ì˜ˆ: "1ë°•ìŠ¤ (10kg)"
  description TEXT,
  price INTEGER NOT NULL, -- ê¸°ë³¸ ê°€ê²© (ì˜µì…˜ ì—†ì„ ë•Œ)
  moq INTEGER NOT NULL DEFAULT 1, -- ìµœì†Œì£¼ë¬¸ìˆ˜ëŸ‰
  shipping_fee INTEGER NOT NULL DEFAULT 0,
  delivery_method TEXT DEFAULT 'courier', -- ë°°ì†¡ ë°©ë²•
  stock_quantity INTEGER NOT NULL DEFAULT 0,
  image_url TEXT,
  is_active BOOLEAN NOT NULL DEFAULT true,

  -- AI í‘œì¤€í™” ê´€ë ¨ (1ìˆœìœ„)
  standardized_name TEXT, -- AI ì œì•ˆ ìˆ˜ë½í•œ í‘œì¤€í™” ì´ë¦„
  ai_suggested_category TEXT,
  ai_keywords TEXT[], -- ê²€ìƒ‰ í‚¤ì›Œë“œ ë°°ì—´

  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 5. `product_variants` (ìƒí’ˆ ì˜µì…˜ - 4ìˆœìœ„)

```sql
CREATE TABLE product_variants (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
  name TEXT NOT NULL, -- ì˜ˆ: "1kg", "5kg", "10kg"
  price INTEGER NOT NULL,
  stock_quantity INTEGER NOT NULL DEFAULT 0,
  is_active BOOLEAN NOT NULL DEFAULT true,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 6. `cart_items` (ì¥ë°”êµ¬ë‹ˆ - 3ìˆœìœ„)

```sql
CREATE TABLE cart_items (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  retailer_id UUID NOT NULL REFERENCES retailers(id) ON DELETE CASCADE,
  product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
  variant_id UUID REFERENCES product_variants(id) ON DELETE SET NULL,
  quantity INTEGER NOT NULL DEFAULT 1,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 7. `orders` (ì£¼ë¬¸)

```sql
CREATE TABLE orders (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  order_number TEXT NOT NULL UNIQUE, -- ì˜ˆ: "ORD-20251119-001"
  retailer_id UUID NOT NULL REFERENCES retailers(id) ON DELETE RESTRICT,
  wholesaler_id UUID NOT NULL REFERENCES wholesalers(id) ON DELETE RESTRICT,
  product_id UUID NOT NULL REFERENCES products(id) ON DELETE RESTRICT,
  variant_id UUID REFERENCES product_variants(id) ON DELETE SET NULL,

  quantity INTEGER NOT NULL,
  unit_price INTEGER NOT NULL, -- ì£¼ë¬¸ ë‹¹ì‹œ ë‹¨ê°€ (ì˜µì…˜ ê°€ê²©)
  shipping_fee INTEGER NOT NULL,
  total_amount INTEGER NOT NULL, -- unit_price * quantity + shipping_fee

  delivery_address TEXT NOT NULL,
  request_note TEXT,

  status TEXT NOT NULL DEFAULT 'pending' CHECK (status IN ('pending', 'confirmed', 'shipped', 'completed', 'cancelled')),

  -- ê²°ì œ ê´€ë ¨ (7ìˆœìœ„)
  payment_method TEXT, -- 'card', 'transfer' ë“±
  payment_key TEXT, -- TossPayments ê²°ì œ í‚¤
  paid_at TIMESTAMPTZ,

  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 8. `settlements` (ì •ì‚° - 7ìˆœìœ„)

```sql
CREATE TABLE settlements (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  order_id UUID NOT NULL REFERENCES orders(id) ON DELETE RESTRICT,
  wholesaler_id UUID NOT NULL REFERENCES wholesalers(id) ON DELETE RESTRICT,

  order_amount INTEGER NOT NULL, -- ì£¼ë¬¸ ê¸ˆì•¡
  platform_fee_rate DECIMAL(5, 4) NOT NULL, -- ì˜ˆ: 0.0500 (5%)
  platform_fee INTEGER NOT NULL, -- order_amount * platform_fee_rate
  wholesaler_amount INTEGER NOT NULL, -- order_amount - platform_fee

  status TEXT NOT NULL DEFAULT 'pending' CHECK (status IN ('pending', 'completed')),
  scheduled_payout_at TIMESTAMPTZ NOT NULL, -- ì •ì‚° ì˜ˆì •ì¼ (ì˜ˆ: D+7)
  completed_at TIMESTAMPTZ,

  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 9. `cs_threads` (CS ìŠ¤ë ˆë“œ - 5ìˆœìœ„)

```sql
CREATE TABLE cs_threads (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  status TEXT NOT NULL DEFAULT 'open' CHECK (status IN ('open', 'bot_handled', 'escalated', 'closed')),
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  closed_at TIMESTAMPTZ
);
```

#### 10. `cs_messages` (CS ë©”ì‹œì§€ - 5ìˆœìœ„)

```sql
CREATE TABLE cs_messages (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  thread_id UUID NOT NULL REFERENCES cs_threads(id) ON DELETE CASCADE,
  sender_type TEXT NOT NULL CHECK (sender_type IN ('user', 'bot', 'admin')),
  sender_id UUID REFERENCES profiles(id) ON DELETE SET NULL,
  content TEXT NOT NULL,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 11. `audit_logs` (ê°ì‚¬ ë¡œê·¸ - 6ìˆœìœ„)

```sql
CREATE TABLE audit_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  action TEXT NOT NULL, -- 'wholesaler_approve', 'account_suspend' ë“±
  target_type TEXT, -- 'wholesaler', 'user', 'settings' ë“±
  target_id UUID,
  details JSONB, -- ì¶”ê°€ ì •ë³´ (ë°˜ë ¤ ì‚¬ìœ , ë³€ê²½ ì „/í›„ ê°’ ë“±)
  ip_address TEXT,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 12. `ai_product_suggestions` (AI ì œì•ˆ ë¡œê·¸ - 1ìˆœìœ„, ì„ íƒ)

```sql
CREATE TABLE ai_product_suggestions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  wholesaler_id UUID NOT NULL REFERENCES wholesalers(id) ON DELETE CASCADE,
  product_id UUID REFERENCES products(id) ON DELETE SET NULL,

  original_name TEXT NOT NULL,
  suggested_name TEXT NOT NULL,
  suggested_category TEXT,
  suggested_keywords TEXT[],
  confidence_score DECIMAL(5, 4), -- 0.0000 ~ 1.0000

  accepted BOOLEAN NOT NULL DEFAULT false,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);
```

#### 13. `inquiries` (ë¬¸ì˜ ê²Œì‹œíŒ - ì„ íƒ, CS ë´‡ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥)

```sql
-- CS ë´‡ìœ¼ë¡œ ëŒ€ì²´ë˜ë¯€ë¡œ ì„ íƒ ì‚¬í•­
CREATE TABLE inquiries (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  content TEXT NOT NULL,
  status TEXT NOT NULL DEFAULT 'open' CHECK (status IN ('open', 'answered', 'closed')),
  admin_reply TEXT,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  replied_at TIMESTAMPTZ
);
```

### 9.2 RLS ì •ì±… (í•µì‹¬)

#### `profiles`

```sql
-- SELECT: ë³¸ì¸ë§Œ ì¡°íšŒ
CREATE POLICY "Users can view own profile"
ON profiles FOR SELECT
USING (clerk_user_id = auth.jwt() ->> 'sub');

-- UPDATE: ë³¸ì¸ë§Œ ìˆ˜ì •
CREATE POLICY "Users can update own profile"
ON profiles FOR UPDATE
USING (clerk_user_id = auth.jwt() ->> 'sub');
```

#### `retailers`

```sql
-- SELECT: ë³¸ì¸(retailer) + ê´€ë¦¬ì
CREATE POLICY "Retailers can view own info"
ON retailers FOR SELECT
USING (
  user_id = (SELECT id FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub')
  OR
  EXISTS (SELECT 1 FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub' AND role = 'admin')
);

-- UPDATE: ë³¸ì¸ë§Œ
CREATE POLICY "Retailers can update own info"
ON retailers FOR UPDATE
USING (user_id = (SELECT id FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub'));
```

#### `wholesalers`

```sql
-- SELECT: ë³¸ì¸(wholesaler) + ê´€ë¦¬ì
CREATE POLICY "Wholesalers can view own info"
ON wholesalers FOR SELECT
USING (
  user_id = (SELECT id FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub')
  OR
  EXISTS (SELECT 1 FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub' AND role = 'admin')
);

-- UPDATE: ë³¸ì¸ë§Œ
CREATE POLICY "Wholesalers can update own info"
ON wholesalers FOR UPDATE
USING (user_id = (SELECT id FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub'));

-- âš ï¸ ì†Œë§¤ëŠ” anonymous_code, address(ì‹œ/êµ¬ê¹Œì§€ë§Œ) ì¡°íšŒ ê°€ëŠ¥ (ë³„ë„ ë·° ë˜ëŠ” API)
```

#### `products`

```sql
-- SELECT: ì „ì²´ ê³µê°œ (is_active = true)
CREATE POLICY "Anyone can view active products"
ON products FOR SELECT
USING (is_active = true);

-- INSERT/UPDATE/DELETE: ë³¸ì¸(wholesaler)ë§Œ
CREATE POLICY "Wholesalers can manage own products"
ON products FOR ALL
USING (
  wholesaler_id IN (
    SELECT id FROM wholesalers WHERE user_id = (SELECT id FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub')
  )
);
```

#### `product_variants`

```sql
-- SELECT: productì™€ ë™ì¼
-- INSERT/UPDATE/DELETE: í•´ë‹¹ productì˜ ì†Œìœ ìë§Œ
```

#### `cart_items`

```sql
-- SELECT/INSERT/UPDATE/DELETE: ë³¸ì¸(retailer)ë§Œ
CREATE POLICY "Retailers can manage own cart"
ON cart_items FOR ALL
USING (
  retailer_id IN (
    SELECT id FROM retailers WHERE user_id = (SELECT id FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub')
  )
);
```

#### `orders`

```sql
-- SELECT:
--   - ì†Œë§¤: ë³¸ì¸ì´ ì£¼ë¬¸í•œ ê²ƒë§Œ
--   - ë„ë§¤: ë³¸ì¸ ìƒí’ˆì— ëŒ€í•œ ì£¼ë¬¸ë§Œ
--   - ê´€ë¦¬ì: ì „ì²´
CREATE POLICY "Users can view related orders"
ON orders FOR SELECT
USING (
  -- ì†Œë§¤: ë³¸ì¸ ì£¼ë¬¸
  retailer_id IN (SELECT id FROM retailers WHERE user_id = (SELECT id FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub'))
  OR
  -- ë„ë§¤: ë³¸ì¸ ìƒí’ˆ ì£¼ë¬¸
  wholesaler_id IN (SELECT id FROM wholesalers WHERE user_id = (SELECT id FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub'))
  OR
  -- ê´€ë¦¬ì: ì „ì²´
  EXISTS (SELECT 1 FROM profiles WHERE clerk_user_id = auth.jwt() ->> 'sub' AND role = 'admin')
);

-- UPDATE: ë„ë§¤(ìƒíƒœ ë³€ê²½ë§Œ) + ê´€ë¦¬ì
```

#### `settlements`

```sql
-- SELECT: ë³¸ì¸(wholesaler) + ê´€ë¦¬ì
-- UPDATE: ê´€ë¦¬ìë§Œ (ì •ì‚° ì™„ë£Œ ì²˜ë¦¬)
```

#### `cs_threads`, `cs_messages`

```sql
-- SELECT: ë³¸ì¸ ìŠ¤ë ˆë“œ + ê´€ë¦¬ì
-- INSERT: ë³¸ì¸ ìŠ¤ë ˆë“œì—ë§Œ ë©”ì‹œì§€ ì¶”ê°€
-- UPDATE: ê´€ë¦¬ìë§Œ (í‹°ì¼“ ìƒíƒœ ë³€ê²½)
```

#### `audit_logs`

```sql
-- SELECT: ê´€ë¦¬ìë§Œ
-- INSERT: ì‹œìŠ¤í…œ (íŠ¸ë¦¬ê±° ë˜ëŠ” ì„œë²„ í•¨ìˆ˜)
```

#### `ai_product_suggestions`

```sql
-- SELECT: ë³¸ì¸(wholesaler) + ê´€ë¦¬ì
-- INSERT: ì‹œìŠ¤í…œ (AI API í˜¸ì¶œ ì‹œ)
```

---

## ğŸ¨ 10. UI/UX ê°€ì´ë“œ

### ë””ìì¸ í‚¤ì›Œë“œ

- **ê¹”ë”í•œ í™”ì´íŠ¸/ë¼ì´íŠ¸ ê·¸ë ˆì´** ë°”íƒ•
- **í¬ì¸íŠ¸ ì»¬ëŸ¬**: ë¸”ë£¨ ê³„ì—´ (Tailwind ê¸°ë³¸ ìƒ‰ìƒ í™œìš©)
- **ì¹´ë“œí˜• ë ˆì´ì•„ì›ƒ**: ë„“ì€ ì—¬ë°±, ê·¸ë¦¼ì
- **ëª¨ë°”ì¼ ë°˜ì‘í˜•**: Tailwind Responsive í´ë˜ìŠ¤ í™œìš©

### ê³µí†µ UI

- **í—¤ë”**
  - ë¡œê³  (ì¢Œì¸¡)
  - ì—­í•  í‘œì‹œ (ì˜ˆ: "ì†Œë§¤ì  ëŒ€ì‹œë³´ë“œ")
  - CS ë²„íŠ¼ (AI ë´‡ ì•„ì´ì½˜)
  - ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ (ìš°ì¸¡)
- **ì‚¬ì´ë“œë°”** (ì„ íƒ)
  - ë„ë§¤/ê´€ë¦¬ìëŠ” ì¢Œì¸¡ ì‚¬ì´ë“œë°”
  - ì†Œë§¤ëŠ” ìƒë‹¨ íƒ­ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥

### ì†Œë§¤ UI

- **ìƒí’ˆ ëª©ë¡**: ì¹´ë“œí˜• ê·¸ë¦¬ë“œ (2~4ì—´)
  - ì¸ë„¤ì¼ ì´ë¯¸ì§€
  - ìƒí’ˆëª…
  - ê°€ê²© (ì˜µì…˜ì´ ìˆìœ¼ë©´ "5,000ì›~")
  - "ì¥ë°”êµ¬ë‹ˆ" ë²„íŠ¼
- **ìƒí’ˆ ìƒì„¸**: ì¤‘ì•™ ì •ë ¬ ë ˆì´ì•„ì›ƒ
  - ì´ë¯¸ì§€ (ì¢Œì¸¡)
  - ìƒí’ˆ ì •ë³´ (ìš°ì¸¡)
    - ì˜µì…˜ ì„ íƒ (ë“œë¡­ë‹¤ìš´)
    - ìˆ˜ëŸ‰ ì…ë ¥
    - "ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°" ë²„íŠ¼
- **ì¥ë°”êµ¬ë‹ˆ**: í…Œì´ë¸” ë˜ëŠ” ì¹´ë“œ ë¦¬ìŠ¤íŠ¸
  - ìƒí’ˆëª…, ì˜µì…˜, ìˆ˜ëŸ‰, ê°€ê²©
  - ìˆ˜ëŸ‰ ìˆ˜ì •, ì‚­ì œ ë²„íŠ¼
  - ì´ ê¸ˆì•¡ (í•˜ë‹¨)
  - "ì£¼ë¬¸í•˜ê¸°" ë²„íŠ¼

### ë„ë§¤ UI

- **ëŒ€ì‹œë³´ë“œ**: íƒ€ì¼ ì¹´ë“œ (2~3ê°œ)
  - ì˜¤ëŠ˜ ì£¼ë¬¸ ìˆ˜
  - ì¶œê³  ëŒ€ê¸°
  - ê¸ˆì£¼ ì •ì‚° ì˜ˆì •ì•¡
- **ìƒí’ˆ ë“±ë¡**: í¼ ë ˆì´ì•„ì›ƒ
  - AI í‘œì¤€í™” ë²„íŠ¼ (ìƒí’ˆëª… ì˜†)
  - ì‹œì„¸ ì¡°íšŒ ë²„íŠ¼ (ê°€ê²© ì˜†)
  - ì˜µì…˜ ì¶”ê°€ ì„¹ì…˜ (ë™ì ìœ¼ë¡œ ì¶”ê°€/ì‚­ì œ)
- **í…Œì´ë¸”**: ì£¼ë¬¸/ìƒí’ˆ ê´€ë¦¬
  - Tailwind Table ìŠ¤íƒ€ì¼
  - í•„í„°/ê²€ìƒ‰ (ìƒë‹¨)

### ê´€ë¦¬ì UI

- **í…Œì´ë¸” ì¤‘ì‹¬**: ë„ë§¤ ìŠ¹ì¸ ëª©ë¡, ê³„ì • ëª©ë¡, ê°ì‚¬ ë¡œê·¸
- **ëª¨ë‹¬**: ìŠ¹ì¸/ë°˜ë ¤ ì²˜ë¦¬ (ë°˜ë ¤ ì‚¬ìœ  ì…ë ¥)

---

## ğŸš€ 11. ê°œë°œ í™˜ê²½ ì„¤ì •

### 11.1 í•„ìš”í•œ ì„œë¹„ìŠ¤

#### Clerk (ì¸ì¦)

1. [Clerk Dashboard](https://dashboard.clerk.com) ì ‘ì†
2. í”„ë¡œì íŠ¸ ìƒì„±
3. í™˜ê²½ ë³€ìˆ˜ ë³µì‚¬ (`NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`, `CLERK_SECRET_KEY`)

#### Supabase (DB)

1. [Supabase Dashboard](https://supabase.com/dashboard) ì ‘ì†
2. í”„ë¡œì íŠ¸ ìƒì„±
3. SQL Editorì—ì„œ ìŠ¤í‚¤ë§ˆ ì ìš© (í…Œì´ë¸”, RLS ì •ì±…)
4. í™˜ê²½ ë³€ìˆ˜ ë³µì‚¬ (`NEXT_PUBLIC_SUPABASE_URL`, `NEXT_PUBLIC_SUPABASE_ANON_KEY`)

#### TossPayments (ê²°ì œ)

1. [TossPayments ê°œë°œìì„¼í„°](https://developers.tosspayments.com) ì ‘ì†
2. í…ŒìŠ¤íŠ¸ ê³„ì • ìƒì„±
3. í…ŒìŠ¤íŠ¸ í‚¤ ë³µì‚¬ (`TOSS_CLIENT_KEY`, `TOSS_SECRET_KEY`)

#### Gemini (AI)

1. [Google AI Studio](https://aistudio.google.com) ì ‘ì†
2. API í‚¤ ìƒì„±
3. í™˜ê²½ ë³€ìˆ˜ ë³µì‚¬ (`GEMINI_API_KEY`)

#### ê³µê³µë°ì´í„°í¬í„¸ (ì‹œì„¸)

1. [ê³µê³µë°ì´í„°í¬í„¸](https://www.data.go.kr) ì ‘ì†
2. "ë†ìˆ˜ì‚°ë¬¼ ìœ í†µì •ë³´" ë˜ëŠ” "ê³µì˜ë„ë§¤ì‹œì¥ ê²½ë§¤ê°€ê²©" API ì‹ ì²­
3. ìŠ¹ì¸ í›„ ì„œë¹„ìŠ¤ í‚¤ ë³µì‚¬ (`NEXT_PUBLIC_MARKET_API_KEY`)

### 11.2 í™˜ê²½ ë³€ìˆ˜ (`.env.local`)

```bash
# Clerk
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=ey...
SUPABASE_SERVICE_ROLE_KEY=ey...

# TossPayments
NEXT_PUBLIC_TOSS_CLIENT_KEY=test_ck_...
TOSS_SECRET_KEY=test_sk_...
TOSS_API_BASE_URL=https://api.tosspayments.com

# Gemini (AI ìƒí’ˆëª… í‘œì¤€í™”)
GEMINI_API_KEY=AIza...

# ê³µê³µë°ì´í„°í¬í„¸ (ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ)
NEXT_PUBLIC_MARKET_API_KEY=your_service_key_here

# LLM for CS Bot (OpenAI or Gemini)
LLM_API_KEY=sk-... or AIza...
LLM_PROVIDER=openai  # or 'gemini'

# ê¸°íƒ€
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_PLATFORM_FEE_RATE=0.05  # 5% ìˆ˜ìˆ˜ë£Œ
```

### 11.3 í”„ë¡œì íŠ¸ êµ¬ì¡° (ì˜ˆì‹œ)

```
testabc/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”‚   â”œâ”€â”€ sign-in/
â”‚   â”‚   â”‚   â””â”€â”€ sign-up/
â”‚   â”‚   â”œâ”€â”€ retailer/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”œâ”€â”€ cart/            # ì¥ë°”êµ¬ë‹ˆ (3ìˆœìœ„)
â”‚   â”‚   â”‚   â”œâ”€â”€ checkout/        # ê²°ì œ (7ìˆœìœ„)
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â””â”€â”€ cs/              # CS ë¬¸ì˜ (5ìˆœìœ„)
â”‚   â”‚   â”œâ”€â”€ wholesaler/
â”‚   â”‚   â”‚   â”œâ”€â”€ pending/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ new/         # AI í‘œì¤€í™”, ì‹œì„¸ ì¡°íšŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â””â”€â”€ settlements/     # ì •ì‚° ì¡°íšŒ (7ìˆœìœ„)
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ wholesalers/
â”‚   â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ cs/              # CS í‹°ì¼“ (5ìˆœìœ„)
â”‚   â”‚   â”‚   â””â”€â”€ audit-logs/      # ê°ì‚¬ ë¡œê·¸ (6ìˆœìœ„)
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ ai/
â”‚   â”‚       â”‚   â”œâ”€â”€ standardize/       # Gemini (1ìˆœìœ„)
â”‚   â”‚       â”‚   â””â”€â”€ market-price/      # ê³µê³µë°ì´í„° (2ìˆœìœ„)
â”‚   â”‚       â”œâ”€â”€ payments/
â”‚   â”‚       â”‚   â””â”€â”€ callback/          # TossPayments (7ìˆœìœ„)
â”‚   â”‚       â””â”€â”€ cs/
â”‚   â”‚           â””â”€â”€ chat/              # LLM (5ìˆœìœ„)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ retailer/
â”‚   â”‚   â”œâ”€â”€ wholesaler/
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ supabase.ts
â”‚   â”‚   â”œâ”€â”€ clerk.ts
â”‚   â”‚   â”œâ”€â”€ gemini.ts              # 1ìˆœìœ„
â”‚   â”‚   â”œâ”€â”€ market-api.ts          # 2ìˆœìœ„
â”‚   â”‚   â”œâ”€â”€ toss-payments.ts       # 7ìˆœìœ„
â”‚   â”‚   â””â”€â”€ llm.ts                 # 5ìˆœìœ„
â”‚   â””â”€â”€ types/
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ schema.sql                 # ì „ì²´ ìŠ¤í‚¤ë§ˆ (13ê°œ í…Œì´ë¸”)
â”‚   â””â”€â”€ rls-policies.sql
â”œâ”€â”€ .env.local
â””â”€â”€ package.json
```

---

## ğŸ“‹ 12. MVP ê°œë°œ ìˆœì„œ (8ì£¼)

### **Week 1-2: ì¸í”„ë¼ ë° ì¸ì¦**

- [ ] Next.js í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- [ ] Tailwind CSS ì„¤ì •
- [ ] Clerk ì—°ë™ (íšŒì›ê°€ì…/ë¡œê·¸ì¸)
- [ ] Supabase ì—°ë™ (DB ìŠ¤í‚¤ë§ˆ ì ìš© - 13ê°œ í…Œì´ë¸”)
- [ ] ì—­í•  ì„ íƒ ë° í”„ë¡œí•„ ìƒì„± í”Œë¡œìš°
- [ ] RLS ì •ì±… ê¸°ë³¸ ì ìš©
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env.local)

---

### **Week 3: ë„ë§¤ ê¸°ëŠ¥ + ğŸ¥‡ 1ìˆœìœ„ AI í‘œì¤€í™”**

**ë„ë§¤ ê¸°ë³¸**

- [ ] ë„ë§¤ íšŒì›ê°€ì… ë° ì‚¬ì—…ì ì •ë³´ ë“±ë¡
- [ ] ìŠ¹ì¸ ëŒ€ê¸° í˜ì´ì§€ (Realtime ì—°ë™)
- [ ] ê´€ë¦¬ì ë„ë§¤ ìŠ¹ì¸/ë°˜ë ¤ ê¸°ëŠ¥
- [ ] ë„ë§¤ ìƒí’ˆ ë“±ë¡/ìˆ˜ì • í¼ (ê¸°ë³¸)

**ğŸ¥‡ 1ìˆœìœ„: Gemini ìƒí’ˆëª… í‘œì¤€í™”**

- [ ] Gemini API ì—°ë™ (`/api/ai/standardize`)
- [ ] ìƒí’ˆ ë“±ë¡/ìˆ˜ì • í˜ì´ì§€ì— "AI í‘œì¤€í™”" ë²„íŠ¼ ì¶”ê°€
- [ ] AI ì œì•ˆ UI (í‘œì¤€í™” ìƒí’ˆëª…, ì¹´í…Œê³ ë¦¬, í‚¤ì›Œë“œ, ì‹ ë¢°ë„)
- [ ] ì œì•ˆ ìˆ˜ë½/ê±°ë¶€ ì²˜ë¦¬
- [ ] (ì„ íƒ) ai_product_suggestions í…Œì´ë¸”ì— ë¡œê·¸ ì €ì¥

---

### **Week 4: ë„ë§¤ ìƒí’ˆ ê´€ë¦¬ + ğŸ¥ˆ 2ìˆœìœ„ ì‹œì„¸ ì¡°íšŒ**

**ë„ë§¤ ìƒí’ˆ ê´€ë¦¬**

- [ ] ë„ë§¤ ìƒí’ˆ ëª©ë¡ ì¡°íšŒ (í…Œì´ë¸”)
- [ ] ë„ë§¤ ìƒí’ˆ ì‚­ì œ/ë¹„í™œì„±í™”
- [ ] ë„ë§¤ ëŒ€ì‹œë³´ë“œ (ê°„ë‹¨í•œ í†µê³„)

**ğŸ¥ˆ 2ìˆœìœ„: ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ**

- [ ] ê³µê³µë°ì´í„°í¬í„¸ API ì—°ë™ (`/api/ai/market-price`)
- [ ] ìƒí’ˆ ê°€ê²© ì±…ì • ì‹œ "ì‹œì„¸ ì¡°íšŒ" ë²„íŠ¼ ì¶”ê°€
- [ ] í’ˆëª©ë³„, ì§€ì—­ë³„, ë‚ ì§œë³„ ê²€ìƒ‰ UI
- [ ] ê°€ê²© ì¶”ì´ ì°¨íŠ¸ (Recharts, ìµœê·¼ 7ì¼)
- [ ] ì°¸ê³  ê°€ê²©ìœ¼ë¡œ í™œìš© (ìë™ ì…ë ¥ X)

---

### **Week 5: ì†Œë§¤ ê¸°ëŠ¥ + ğŸ¥‰ 3ìˆœìœ„ ì¥ë°”êµ¬ë‹ˆ**

**ì†Œë§¤ ê¸°ë³¸**

- [ ] ì†Œë§¤ íšŒì›ê°€ì… ë° í”„ë¡œí•„ ë“±ë¡
- [ ] ìƒí’ˆ ëª©ë¡ ì¡°íšŒ (ì¹´í…Œê³ ë¦¬/ì§€ì—­ í•„í„°)
- [ ] ìƒí’ˆ ê²€ìƒ‰ (ìƒí’ˆëª…, í‚¤ì›Œë“œ)
- [ ] ìƒí’ˆ ìƒì„¸ ì¡°íšŒ (ë„ë§¤ ì •ë³´ ìµëª… ì²˜ë¦¬)

**ğŸ¥‰ 3ìˆœìœ„: ì¥ë°”êµ¬ë‹ˆ**

- [ ] cart_items í…Œì´ë¸” ë° RLS ì •ì±…
- [ ] ìƒí’ˆ ìƒì„¸ì— "ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°" ë²„íŠ¼
- [ ] ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ (`/retailer/cart`)
- [ ] ì¥ë°”êµ¬ë‹ˆ ëª©ë¡ ì¡°íšŒ
- [ ] ìˆ˜ëŸ‰ ìˆ˜ì •/ì‚­ì œ
- [ ] ì´ ê¸ˆì•¡ ê³„ì‚°
- [ ] "ì£¼ë¬¸í•˜ê¸°" ë²„íŠ¼ (ê²°ì œ ì—°ë™ ì „ê¹Œì§€ëŠ” ì£¼ë¬¸ ìƒì„±ë§Œ)

---

### **Week 6: ì£¼ë¬¸ ê´€ë¦¬ + 4ìˆœìœ„ ProductVariant**

**ì£¼ë¬¸ ê´€ë¦¬**

- [ ] ì†Œë§¤ ì£¼ë¬¸ ìƒì„± (ì¥ë°”êµ¬ë‹ˆ ì—°ë™)
- [ ] ì†Œë§¤ ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ (ëª©ë¡, ìƒì„¸)
- [ ] ë„ë§¤ ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ (RLS)
- [ ] ë„ë§¤ ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ (pending â†’ confirmed â†’ shipped â†’ completed)
- [ ] ì†Œë§¤/ë„ë§¤ ì£¼ë¬¸ ìƒì„¸ í˜ì´ì§€

**4ìˆœìœ„: ProductVariant (ìƒí’ˆ ì˜µì…˜)**

- [ ] product_variants í…Œì´ë¸” ë° RLS ì •ì±…
- [ ] ë„ë§¤: ìƒí’ˆ ë“±ë¡/ìˆ˜ì • ì‹œ ì˜µì…˜ ì¶”ê°€ UI
- [ ] ë„ë§¤: ì˜µì…˜ë³„ ê°€ê²©/ì¬ê³  ê´€ë¦¬
- [ ] ì†Œë§¤: ìƒí’ˆ ìƒì„¸ì—ì„œ ì˜µì…˜ ì„ íƒ (ë“œë¡­ë‹¤ìš´)
- [ ] ì†Œë§¤: ì˜µì…˜ ì„ íƒ ì‹œ ê°€ê²©/ì¬ê³  ì—…ë°ì´íŠ¸
- [ ] ì¥ë°”êµ¬ë‹ˆ/ì£¼ë¬¸ì— variant_id í¬í•¨

---

### **Week 7: 7ìˆœìœ„ ê²°ì œ + 5ìˆœìœ„ CS ë´‡**

**7ìˆœìœ„: TossPayments ê²°ì œ ì—°ë™**

- [ ] TossPayments SDK ì—°ë™
- [ ] ê²°ì œ ìš”ì²­ í˜ì´ì§€ (`/retailer/checkout`)
- [ ] ê²°ì œ ì„±ê³µ/ì‹¤íŒ¨ ì½œë°± (`/api/payments/callback`)
- [ ] ê²°ì œ ì„±ê³µ ì‹œ:
  - [ ] orders í…Œì´ë¸”ì— ì£¼ë¬¸ ìƒì„±
  - [ ] settlements í…Œì´ë¸”ì— ì •ì‚° ê³„ì‚°
  - [ ] í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ ìë™ ê³„ì‚° (5%)
  - [ ] ì •ì‚° ì˜ˆì •ì¼ ì„¤ì • (D+7)
- [ ] ë„ë§¤: ì •ì‚° ë‚´ì—­ ì¡°íšŒ í˜ì´ì§€
- [ ] âš ï¸ ìë™ ì†¡ê¸ˆì€ ì œì™¸ (ìˆ˜ë™ ì •ì‚°)

**5ìˆœìœ„: CS AI ë´‡**

- [ ] cs_threads, cs_messages í…Œì´ë¸” ë° RLS ì •ì±…
- [ ] CS ìœ„ì ¯ ë˜ëŠ” í˜ì´ì§€ (`/retailer/cs`, `/wholesaler/cs`)
- [ ] ìƒˆ ë¬¸ì˜ ì‘ì„± í¼
- [ ] LLM API ì—°ë™ (`/api/cs/chat`)
- [ ] FAQ/ì •ì±… ê¸°ë°˜ 1ì°¨ ìë™ ì‘ë‹µ
- [ ] ì£¼ë¬¸ ì¡°íšŒ ê¸°ëŠ¥ (ë‚´ë¶€ API ì¡°íšŒ â†’ LLM ì „ë‹¬)
- [ ] "ì‚¬ëŒ ìƒë‹´ ì—°ê²°" ë²„íŠ¼
- [ ] í‹°ì¼“ ìƒì„± (status: escalated)
- [ ] ê´€ë¦¬ì: í‹°ì¼“ ëª©ë¡ ì¡°íšŒ (`/admin/cs/tickets`)
- [ ] ê´€ë¦¬ì: ë‹µë³€ ì‘ì„± ë° í‹°ì¼“ ì¢…ë£Œ

---

### **Week 8: 6ìˆœìœ„ ê°ì‚¬ë¡œê·¸ + í†µí•© í…ŒìŠ¤íŠ¸ + ë°°í¬**

**6ìˆœìœ„: ê°ì‚¬ ë¡œê·¸**

- [ ] audit_logs í…Œì´ë¸” ë° RLS ì •ì±…
- [ ] ì£¼ìš” ê´€ë¦¬ì ì•¡ì…˜ ìë™ ë¡œê¹… (íŠ¸ë¦¬ê±° ë˜ëŠ” ì„œë²„ í•¨ìˆ˜)
  - [ ] ë„ë§¤ ìŠ¹ì¸/ë°˜ë ¤
  - [ ] ê³„ì • ì •ì§€/í•´ì œ
  - [ ] ì„¤ì • ë³€ê²½
- [ ] ê´€ë¦¬ì: ê°ì‚¬ ë¡œê·¸ í˜ì´ì§€ (`/admin/audit-logs`)
- [ ] ê´€ë¦¬ì: í•„í„° (ì•¡ì…˜ ìœ í˜•, ë‚ ì§œ, ì‚¬ìš©ì)
- [ ] ê´€ë¦¬ì: ë¡œê·¸ ìƒì„¸ ì¡°íšŒ

**í†µí•© í…ŒìŠ¤íŠ¸ ë° ë°°í¬**

- [ ] UI/UX ì „ì²´ ê°œì„  (ë°˜ì‘í˜•, ìŠ¤íƒ€ì¼ë§, ì¼ê´€ì„±)
- [ ] í†µí•© í…ŒìŠ¤íŠ¸
  - [ ] TC-001: ì†Œë§¤ ìƒí’ˆ ì£¼ë¬¸ (ì¥ë°”êµ¬ë‹ˆ â†’ ê²°ì œ â†’ ì£¼ë¬¸ ì¡°íšŒ)
  - [ ] TC-002: ë„ë§¤ ìŠ¹ì¸ ë° ìƒí’ˆ ë“±ë¡ (AI í‘œì¤€í™”, ì‹œì„¸ ì¡°íšŒ)
  - [ ] TC-003: ì£¼ë¬¸ ì²˜ë¦¬ (ìƒíƒœ ë³€ê²½)
  - [ ] TC-004: RLS ê²€ì¦
  - [ ] TC-005: CS ë´‡ (AI ì‘ë‹µ â†’ ì‚¬ëŒ ìƒë‹´ ì „í™˜)
  - [ ] TC-006: ê²°ì œ ë° ì •ì‚° ê³„ì‚°
- [ ] ë²„ê·¸ ìˆ˜ì •
- [ ] ì„±ëŠ¥ ìµœì í™” (ì´ë¯¸ì§€ ìµœì í™”, ì¿¼ë¦¬ ìµœì í™”)
- [ ] Vercel ë°°í¬
- [ ] ìµœì¢… ì ê²€ ë° ë¬¸ì„œí™”

---

## ğŸ§ª 13. í…ŒìŠ¤íŠ¸ ê³„íš

### 13.1 ì£¼ìš” í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

#### TC-001: ì†Œë§¤ íšŒì›ê°€ì… ë° ìƒí’ˆ ì£¼ë¬¸ (ì¥ë°”êµ¬ë‹ˆ í¬í•¨)

1. ì†Œë§¤ ê³„ì •ìœ¼ë¡œ íšŒì›ê°€ì…
2. ìƒí’ˆ ëª©ë¡ì—ì„œ ìƒí’ˆ ê²€ìƒ‰ (ì¹´í…Œê³ ë¦¬ í•„í„°)
3. ìƒí’ˆ ìƒì„¸ ì¡°íšŒ (ë„ë§¤ ì •ë³´ ìµëª… í™•ì¸, ì˜µì…˜ ì„ íƒ)
4. ì¥ë°”êµ¬ë‹ˆì— ì—¬ëŸ¬ ìƒí’ˆ ë‹´ê¸°
5. ì¥ë°”êµ¬ë‹ˆì—ì„œ ìˆ˜ëŸ‰ ìˆ˜ì •
6. ê²°ì œ ì§„í–‰ (TossPayments)
7. ê²°ì œ ì„±ê³µ í›„ ì£¼ë¬¸ ìƒì„± í™•ì¸
8. ì£¼ë¬¸ ë‚´ì—­ì—ì„œ ìƒíƒœ í™•ì¸

#### TC-002: ë„ë§¤ ìŠ¹ì¸ ë° ìƒí’ˆ ë“±ë¡ (AI ê¸°ëŠ¥ í¬í•¨)

1. ë„ë§¤ ê³„ì •ìœ¼ë¡œ íšŒì›ê°€ì…
2. ì‚¬ì—…ì ì •ë³´ ì…ë ¥
3. ìŠ¹ì¸ ëŒ€ê¸° í˜ì´ì§€ í™•ì¸ (Realtime)
4. ê´€ë¦¬ìê°€ ìŠ¹ì¸ ì²˜ë¦¬ (ê°ì‚¬ ë¡œê·¸ ê¸°ë¡)
5. ë„ë§¤ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼
6. ìƒí’ˆ ë“±ë¡ ì‹œ:
   - AI í‘œì¤€í™” ë²„íŠ¼ í´ë¦­ â†’ ì œì•ˆ ìˆ˜ë½
   - ì‹œì„¸ ì¡°íšŒ ë²„íŠ¼ í´ë¦­ â†’ ì°¨íŠ¸ í™•ì¸
   - ì˜µì…˜ ì¶”ê°€ (1kg, 5kg, 10kg)
7. ì†Œë§¤ ìƒí’ˆ ëª©ë¡ì—ì„œ ë“±ë¡ëœ ìƒí’ˆ í™•ì¸

#### TC-003: ì£¼ë¬¸ ì²˜ë¦¬ ë° ì •ì‚°

1. ì†Œë§¤ê°€ ì£¼ë¬¸ ìƒì„± (ê²°ì œ ì™„ë£Œ)
2. ì‹œìŠ¤í…œì´ ì •ì‚° ê³„ì‚° (settlements í…Œì´ë¸”)
3. ë„ë§¤ê°€ ì£¼ë¬¸ ëª©ë¡ì—ì„œ í™•ì¸
4. ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ (pending â†’ confirmed â†’ shipped â†’ completed)
5. ì†Œë§¤ ì£¼ë¬¸ ë‚´ì—­ì—ì„œ ìƒíƒœ ì—…ë°ì´íŠ¸ í™•ì¸
6. ë„ë§¤ ì •ì‚° ë‚´ì—­ì—ì„œ ì •ì‚° ì˜ˆì •ì•¡ í™•ì¸

#### TC-004: CS AI ë´‡ ë° ì‚¬ëŒ ìƒë‹´ ì „í™˜

1. ì†Œë§¤ê°€ CS ìœ„ì ¯ì—ì„œ "ë°°ì†¡ ì–¸ì œ ì˜¤ë‚˜ìš”?" ë¬¸ì˜
2. AI ë´‡ì´ ì£¼ë¬¸ë²ˆí˜¸ ìš”ì²­
3. ì†Œë§¤ê°€ ì£¼ë¬¸ë²ˆí˜¸ ì…ë ¥
4. AI ë´‡ì´ ì£¼ë¬¸ ìƒíƒœ ì¡°íšŒ í›„ ë‹µë³€
5. ì†Œë§¤ê°€ "ë‹µë³€ì´ ë„ì›€ ì•ˆ ë¼ìš”" í´ë¦­
6. ì‹œìŠ¤í…œì´ í‹°ì¼“ ìƒì„± (status: escalated)
7. ê´€ë¦¬ìê°€ í‹°ì¼“ ëª©ë¡ì—ì„œ í™•ì¸
8. ê´€ë¦¬ìê°€ ë‹µë³€ ì‘ì„±
9. í‹°ì¼“ ì¢…ë£Œ

#### TC-005: RLS ê²€ì¦

1. ì†Œë§¤ Aê°€ ì†Œë§¤ Bì˜ ì£¼ë¬¸ì„ ì¡°íšŒ ì‹œë„ â†’ ì‹¤íŒ¨ (403)
2. ë„ë§¤ Aê°€ ë„ë§¤ Bì˜ ìƒí’ˆì„ ìˆ˜ì • ì‹œë„ â†’ ì‹¤íŒ¨ (403)
3. ì†Œë§¤ê°€ ë„ë§¤ ë¯¼ê° ì •ë³´ (ì‚¬ì—…ìë²ˆí˜¸, ì—°ë½ì²˜) ì¡°íšŒ ì‹œë„ â†’ ì‹¤íŒ¨
4. ë„ë§¤ê°€ ë‹¤ë¥¸ ë„ë§¤ ì£¼ë¬¸ ì¡°íšŒ ì‹œë„ â†’ ì‹¤íŒ¨

#### TC-006: ê°ì‚¬ ë¡œê·¸

1. ê´€ë¦¬ìê°€ ë„ë§¤ ìŠ¹ì¸ ì²˜ë¦¬
2. audit_logs í…Œì´ë¸”ì— ë¡œê·¸ ê¸°ë¡ í™•ì¸
3. ê´€ë¦¬ìê°€ ê°ì‚¬ ë¡œê·¸ í˜ì´ì§€ì—ì„œ í™•ì¸
4. ë¡œê·¸ ìƒì„¸: ì•¡ì…˜(wholesaler_approve), ëŒ€ìƒ(ë„ë§¤ ID), IP ì£¼ì†Œ

---

## ğŸš« 14. MVPì—ì„œ ì œì™¸ëœ ê¸°ëŠ¥ (Phase 2)

### 8ìˆœìœ„ - ë¶„ë°°ì •ì‚° ìë™í™”

**MVPì— í¬í•¨ëœ ê²ƒ**:

- âœ… ì •ì‚° ê³„ì‚° (settlements í…Œì´ë¸”)
- âœ… í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ ìë™ ê³„ì‚° (5%)
- âœ… ë„ë§¤ ì •ì‚° ì˜ˆì •ì•¡ ì¡°íšŒ
- âœ… ì •ì‚° ì˜ˆì •ì¼ í‘œì‹œ (D+7)

**Phase 2ë¡œ ë¯¸ë£¨ëŠ” ê²ƒ**:

- âšª TossPayments Revenue Sharing API ì—°ë™
- âšª ìë™ ì†¡ê¸ˆ (ì •ì‚° ì˜ˆì •ì¼ì— ìë™ìœ¼ë¡œ ë„ë§¤ ê³„ì¢Œë¡œ ì†¡ê¸ˆ)
- âšª ì •ì‚° ìƒì„¸ ë‚´ì—­ (í•­ëª©ë³„ ì •ì‚°)
- âšª ì •ì‚° ì•Œë¦¼ (ì´ë©”ì¼/SMS)
- âšª ì •ì‚° ì§€ì—°/ì˜¤ë¥˜ ì²˜ë¦¬

**ì´ìœ **: ìë™ ì†¡ê¸ˆì€ êµ¬í˜„ ë³µì¡ë„ê°€ ë†’ê³ , ì´ˆê¸°ì—ëŠ” ìˆ˜ë™ ì •ì‚°ìœ¼ë¡œë„ ê²€ì¦ ê°€ëŠ¥

---

### Phase 2ì—ì„œ ì¶”ê°€í•  ê¸°ëŠ¥

- ğŸ”µ **ë¶„ë°°ì •ì‚° ìë™í™”** (ìë™ ì†¡ê¸ˆ)
- ğŸ”µ **ë°°ì†¡ ì¶”ì ** (ë°°ì†¡ì‚¬ API ì—°ë™)
- ğŸ”µ **ë¦¬ë·°/í‰ì  ì‹œìŠ¤í…œ**
- ğŸ”µ **ì•Œë¦¼ ì‹œìŠ¤í…œ** (ì´ë©”ì¼/SMS/í‘¸ì‹œ)
- ğŸ”µ **ëŒ€ëŸ‰ ìƒí’ˆ ë“±ë¡** (CSV ì—…ë¡œë“œ)
- ğŸ”µ **ì¿ í°/í”„ë¡œëª¨ì…˜**
- ğŸ”µ **í†µê³„ ëŒ€ì‹œë³´ë“œ** (ë§¤ì¶œ, ì£¼ë¬¸ ì¶”ì´ ì°¨íŠ¸)
- ğŸ”µ **ë‹¤êµ­ì–´ ì§€ì›**
- ğŸ”µ **ëª¨ë°”ì¼ ì•±** (React Native)

---

## âœ… 15. MVP ê²€ì¦ ì§€í‘œ

### í•µì‹¬ ì§€í‘œ (KPI)

- **ê°€ì…ì ìˆ˜**: ì†Œë§¤ Nëª…, ë„ë§¤ Mëª…
- **ìƒí’ˆ ë“±ë¡ ìˆ˜**: ë„ë§¤ë‹¹ í‰ê·  Xê°œ
- **AI í™œìš©ë¥ **: ìƒí’ˆ ë“±ë¡ ì‹œ AI í‘œì¤€í™” ì‚¬ìš© ë¹„ìœ¨
- **ì£¼ë¬¸ ìƒì„± ìˆ˜**: ì›” Yê±´
- **ì£¼ë¬¸ ì™„ë£Œìœ¨**: (completed / total orders) Ã— 100%
- **ê²°ì œ ì„±ê³µë¥ **: (ê²°ì œ ì„±ê³µ / ê²°ì œ ì‹œë„) Ã— 100%
- **ë„ë§¤ ìŠ¹ì¸ìœ¨**: (approved / total wholesalers) Ã— 100%
- **CS ë´‡ í•´ê²°ìœ¨**: (bot_handled / total threads) Ã— 100%
- **ì‚¬ëŒ ìƒë‹´ ì „í™˜ìœ¨**: (escalated / total threads) Ã— 100%

### ê²€ì¦ ëª©í‘œ

1. âœ… "ë„ë§¤ ì •ë³´ë¥¼ ìˆ¨ê¸°ë©´ì„œë„ ê±°ë˜ê°€ ì„±ë¦½í•˜ëŠ”ê°€?"
2. âœ… "AI í‘œì¤€í™”ê°€ ìƒí’ˆ ë“±ë¡/ê²€ìƒ‰ì— ë„ì›€ì´ ë˜ëŠ”ê°€?"
3. âœ… "ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒê°€ ê°€ê²© ì±…ì •ì— ìœ ìš©í•œê°€?"
4. âœ… "ì¥ë°”êµ¬ë‹ˆê°€ ì£¼ë¬¸ í¸ì˜ì„±ì„ ë†’ì´ëŠ”ê°€?"
5. âœ… "ìƒí’ˆ ì˜µì…˜ì´ ì‚¬ìš©ì ë‹ˆì¦ˆë¥¼ ì¶©ì¡±í•˜ëŠ”ê°€?"
6. âœ… "CS AI ë´‡ì´ ê³ ê° ë¬¸ì˜ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ”ê°€?"
7. âœ… "ê²°ì œ ë° ì •ì‚° ì‹œìŠ¤í…œì´ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ê°€?"
8. âœ… "ê°ì‚¬ ë¡œê·¸ê°€ ìš´ì˜ íˆ¬ëª…ì„±ì„ ë†’ì´ëŠ”ê°€?"

---

## ğŸ“ 16. ë‹¤ìŒ ë‹¨ê³„

### MVP ì™„ë£Œ í›„

1. **ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘**

   - ì†Œë§¤: ê°€ê²© ë¹„êµê°€ í¸ë¦¬í•œê°€? AI ê¸°ëŠ¥ì´ ë„ì›€ì´ ë˜ëŠ”ê°€?
   - ë„ë§¤: ì£¼ë¬¸ ê´€ë¦¬ê°€ í¸ë¦¬í•œê°€? AI í‘œì¤€í™”/ì‹œì„¸ ì¡°íšŒê°€ ìœ ìš©í•œê°€?
   - ê³µí†µ: CS ë´‡ ì‘ë‹µ í’ˆì§ˆì€?

2. **ë°ì´í„° ë¶„ì„**

   - ê°€ì¥ ë§ì´ ì£¼ë¬¸ëœ ì¹´í…Œê³ ë¦¬
   - AI í‘œì¤€í™” ìˆ˜ë½ë¥ 
   - ì‹œì„¸ ì¡°íšŒ í›„ ê°€ê²© ë³€ê²½ ë¹„ìœ¨
   - í‰ê·  ì£¼ë¬¸ ê¸ˆì•¡
   - ì£¼ë¬¸ ì™„ë£Œê¹Œì§€ ì†Œìš” ì‹œê°„
   - CS ë´‡ í•´ê²°ìœ¨

3. **Phase 2 ê¸°íš**
   - ìš°ì„ ìˆœìœ„ 8ìˆœìœ„: ë¶„ë°°ì •ì‚° ìë™í™”
   - ë°°ì†¡ ì¶”ì 
   - ë¦¬ë·°/í‰ì  ì‹œìŠ¤í…œ
   - ì•Œë¦¼ ì‹œìŠ¤í…œ

---

## ğŸ“Œ ë¶€ë¡: ê°„ì†Œí™” ë¹„êµí‘œ

| í•­ëª©                | ì›ë³¸ PRD (1ê°œì›” ë²„ì „)  | ìˆ˜ì •ëœ MVP (8ì£¼)                         |
| ------------------- | ---------------------- | ---------------------------------------- |
| **ê°œë°œ ê¸°ê°„**       | 1ê°œì›” (4ì£¼)            | 8ì£¼ (2ê°œì›”)                              |
| **í…Œì´ë¸” ìˆ˜**       | 6ê°œ                    | 13ê°œ                                     |
| **ì—­í• **            | 3ê°œ (ì†Œë§¤/ë„ë§¤/ê´€ë¦¬ì) | 3ê°œ (ìœ ì§€)                               |
| **AI ê¸°ëŠ¥**         | ì œì™¸                   | âœ… í¬í•¨ (Gemini í‘œì¤€í™”, ê³µê³µë°ì´í„° ì‹œì„¸) |
| **ì¥ë°”êµ¬ë‹ˆ**        | ì œì™¸ (ë°”ë¡œ ì£¼ë¬¸)       | âœ… í¬í•¨ (3ìˆœìœ„)                          |
| **ìƒí’ˆ ì˜µì…˜**       | ì œì™¸ (Productë§Œ)       | âœ… í¬í•¨ (ProductVariant, 4ìˆœìœ„)          |
| **ê²°ì œ**            | ì œì™¸                   | âœ… í¬í•¨ (TossPayments, 7ìˆœìœ„)            |
| **ì •ì‚°**            | ì œì™¸                   | âœ… í¬í•¨ (ì •ì‚° ê³„ì‚°, ìë™ ì†¡ê¸ˆì€ Phase 2) |
| **CS**              | ë¬¸ì˜ ê²Œì‹œíŒ (ì„ íƒ)     | âœ… AI ë´‡ + ì‚¬ëŒ ìƒë‹´ (5ìˆœìœ„)             |
| **ê°ì‚¬ ë¡œê·¸**       | ì œì™¸                   | âœ… í¬í•¨ (6ìˆœìœ„)                          |
| **ë¶„ë°°ì •ì‚° ìë™í™”** | ì œì™¸                   | âšª Phase 2 (ì •ì‚° ê³„ì‚°ì€ í¬í•¨)            |

---

## ğŸ¯ ìµœì¢… ì •ë¦¬

ì´ MVP ê¸°íšì„œëŠ” **ì£¼ë‹ˆì–´ ê°œë°œìê°€ ë°”ì´ë¸Œì½”ë”©ìœ¼ë¡œ 8ì£¼ ë‚´ì— êµ¬í˜„ ê°€ëŠ¥í•œ í•µì‹¬ ê¸°ëŠ¥**ì— ì´ˆì ì„ ë§ì·„ìŠµë‹ˆë‹¤.

### í•µì‹¬ ê²€ì¦ í•­ëª©

1. âœ… ë„ë§¤ ì •ë³´ë¥¼ ìˆ¨ê¸°ë©´ì„œ ì¤‘ê°œê°€ ê°€ëŠ¥í•œê°€?
2. âœ… AI ê¸°ëŠ¥(í‘œì¤€í™”, ì‹œì„¸)ì´ ì‹¤ì œë¡œ ìœ ìš©í•œê°€?
3. âœ… ì¥ë°”êµ¬ë‹ˆì™€ ìƒí’ˆ ì˜µì…˜ì´ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ëŠ”ê°€?
4. âœ… ê²°ì œ ë° ì •ì‚° ì‹œìŠ¤í…œì´ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ê°€?
5. âœ… CS AI ë´‡ì´ ê³ ê° ë¬¸ì˜ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ”ê°€?
6. âœ… ê°ì‚¬ ë¡œê·¸ê°€ ìš´ì˜ íˆ¬ëª…ì„±ì„ ë†’ì´ëŠ”ê°€?

### ê°œë°œ ìš°ì„ ìˆœìœ„ (ì¬í™•ì¸)

1. ğŸ¥‡ Gemini ìƒí’ˆëª… í‘œì¤€í™” (Week 3)
2. ğŸ¥ˆ ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ (Week 4)
3. ğŸ¥‰ ì¥ë°”êµ¬ë‹ˆ (Week 5)
4. 4ìˆœìœ„ ProductVariant (Week 6)
5. 5ìˆœìœ„ CS AI ë´‡ (Week 7)
6. 6ìˆœìœ„ ê°ì‚¬ ë¡œê·¸ (Week 8)
7. 7ìˆœìœ„ TossPayments ê²°ì œ (Week 7)
8. 8ìˆœìœ„ ë¶„ë°°ì •ì‚° ìë™í™” (Phase 2)

### ë‹¤ìŒ ì•¡ì…˜

- [x] ~~í•„ìˆ˜ ê¸°ëŠ¥ ì •ì˜~~ (ì™„ë£Œ)
- [ ] Clerk, Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] TossPayments í…ŒìŠ¤íŠ¸ ê³„ì • ìƒì„±
- [ ] Gemini API í‚¤ ë°œê¸‰
- [ ] ê³µê³µë°ì´í„°í¬í„¸ API ì‹ ì²­
- [ ] DB ìŠ¤í‚¤ë§ˆ ì‘ì„± ë° ì ìš© (13ê°œ í…Œì´ë¸” + RLS)
- [ ] Next.js í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- [ ] Week 1 ê°œë°œ ì‹œì‘! ğŸš€

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2025-11-19  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-19  
**ì‘ì„±ì**: AI Assistant  
**ë²„ì „**: MVP v3.0 (ìµœì¢…)

**ë³€ê²½ ì´ë ¥**:

- v1.0 (2025-11-19): ì´ˆì•ˆ (1ê°œì›”, 6ê°œ í…Œì´ë¸”, ê¸°ë³¸ ê¸°ëŠ¥ë§Œ)
- v2.0 (2025-11-19): 8ì£¼ ë²„ì „, ìš°ì„ ìˆœìœ„ 1~7ìˆœìœ„ ê¸°ëŠ¥ í¬í•¨, 13ê°œ í…Œì´ë¸”
- v3.0 (2025-11-19): **ìµœì¢… ë²„ì „** ğŸ‰
  - âœ… DB ERD ë‹¤ì´ì–´ê·¸ë¨ ì¶”ê°€
  - âœ… í…Œì´ë¸” ê´€ê³„ë„ ì¶”ê°€
  - âœ… ë°ì´í„° íë¦„ë„ ì¶”ê°€
  - âœ… ì „ì²´ í˜ì´ì§€ êµ¬ì¡°ë„ ì¶”ê°€
  - âœ… Supabase ìŠ¤í‚¤ë§ˆ íŒŒì¼ ìƒì„± (`supabase_schema.sql`)
  - âœ… Clerk ì—°ë™ ê°€ì´ë“œ ì¶”ê°€ (ì½”ë“œ ì˜ˆì‹œ í¬í•¨)
  - âœ… ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ ì¶”ê°€ (TypeScript ì½”ë“œ)
  - âœ… ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ ì¶”ê°€
  - âœ… ëª©ì°¨ ì¶”ê°€
  - âœ… `clerk_user_id` í•„ë“œ ëª…ì‹œ ë° ê°•ì¡°
  - âœ… README.md ìƒì„±

**íŒŒì¼ êµ¬ì¡°**:

- ğŸ“– `mvp.md` - ì „ì²´ MVP ê¸°íšì„œ (ì´ íŒŒì¼)
- ğŸ“Š `supabase_schema.sql` - Supabase DB ìŠ¤í‚¤ë§ˆ (ë³µì‚¬-ë¶™ì—¬ë„£ê¸°ìš©)
- ğŸ‘‹ `README.md` - í”„ë¡œì íŠ¸ ì†Œê°œ ë° ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

---

## ğŸ‰ ë‹¤ìŒ ë‹¨ê³„

### 1. DB ì„¤ì •

```bash
# supabase_schema.sql íŒŒì¼ì„ Supabase SQL Editorì— ë³µì‚¬-ë¶™ì—¬ë„£ê¸°
```

### 2. ê°œë°œ ì‹œì‘

- **Week 1-2**: ì¸í”„ë¼ + ì¸ì¦
- **Week 3**: ë„ë§¤ ê¸°ëŠ¥ + ğŸ¥‡ AI í‘œì¤€í™”
- **Week 4**: ğŸ¥ˆ ì‹œì„¸ ì¡°íšŒ
- **Week 5**: ì†Œë§¤ ê¸°ëŠ¥ + ğŸ¥‰ ì¥ë°”êµ¬ë‹ˆ
- **Week 6**: ì£¼ë¬¸ ê´€ë¦¬ + ìƒí’ˆ ì˜µì…˜
- **Week 7**: ê²°ì œ + CS ë´‡
- **Week 8**: ê°ì‚¬ë¡œê·¸ + ë°°í¬

### 3. ì°¸ê³  ìë£Œ

- **Clerk ë¬¸ì„œ**: https://clerk.com/docs
- **Supabase ë¬¸ì„œ**: https://supabase.com/docs
- **Next.js ë¬¸ì„œ**: https://nextjs.org/docs
- **TossPayments ë¬¸ì„œ**: https://docs.tosspayments.com

---

**Happy Coding! ğŸš€**
